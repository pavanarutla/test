<!-- <md-sidenav class="md-sidenav-right md-whiteframe-z2 sidenav-width" md-component-id="shareCampaignSidenav">
  <div layout="row">
    <div class="md-toolbar-tools">
      <div flex></div>
      <md-button class="md-icon-button" aria-label="Close Side Panel" ng-click="toggleShareCampaignSidenav()">
        <md-tooltip>Close Side Panel</md-tooltip>
        <md-icon class="md-default-theme"><i class="material-icons">close</i></md-icon>
      </md-button>
    </div>
  </div>
  <md-content layout-align="center center" layout-margin layout-padding>
    <h3 class="md-headline">Share Campaign</h3>
    <form name="shareCampaignForm">
      <div layout="column">
        <md-input-container class="md-block">
          <label>Name</label>
          <input ng-model="shareCampaign.receiver_name" name="receiver_name" required="required" />
          <div ng-messages="shareCampaignForm.name.$error">
            <div ng-message="required">Name is required.</div>
            <div ng-message="pattern">Enter a valid Name.</div>
          </div>
        </md-input-container>
        <md-input-container class="md-block">
          <label>Email</label>
          <input ng-model="shareCampaign.email" name="email" type="email" required="required" ng-pattern="/^[A-Za-z]+[A-Za-z0-9._-]+[A-Za-z0-9]+@[a-z0-9]+.[A-Za-z]{2,4}$/" />
          <div ng-messages="shareCampaignForm.email.$error">
            <div ng-message="required">Email is required.</div>
            <div ng-message="pattern">Enter a valid Email Id.</div>
          </div>
        </md-input-container>
        <md-button class="md-raised md-warn all_button" layout-fill ng-click="shareCampaignToEmail($event, shareCampaign,campaignPaymentDetails.id)">Share
          Campaign</md-button>
      </div>
    </form>
  </md-content>
</md-sidenav> -->
<md-button aria-label="" ng-href="#owner/home" md-no-ink style="background:transparent" class="logo hs-lg hide-gt-md hide-md">
  <img ng-src="assets/images/owner/owner_logo.png" width="140" alt="owner logo">
</md-button>
<div class="ml-2 mr-2 mt-2 mb-2 md-whiteframe-2dp contbg mobile_campdetails">
  <div class="row" style="margin-left:0px; margin-right:0px;">
    <div class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-6 order-xl-1 order-lg-1 order-md-1 order-sm-1 order-1 payment_mng"
      style="margin-top:14px;">
      <p class="cmp_bottom">Campaign ID</p>
      <p class="md-caption mob_span"><b>{{campaignPaymentDetails.cid || "N/A"}}</b></p>
    </div>
    <div class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-6 order-xl-1 order-lg-1 order-md-1 order-sm-1 order-3 payment_mng"
      style="margin-top:14px;">
      <p class="cmp_bottom">Campaign Name</p>
      <p class="md-caption mob_span"><b>{{campaignPaymentDetails.name | capitalize}}</b></p>
    </div>
    <div class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-6 order-xl-1 order-lg-1 order-md-1 order-sm-1 order-5 payment_nng"
      style="margin-top:14px;">
      <p class="cmp_bottom">No of Products</p>
      <p class="md-caption mob_span mob_5"><b>{{campaignPaymentDetails.product_count || "N/A"}}</b></p>
    </div>
    <!-- <div class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-6 order-xl-1 order-lg-1 order-md-1 order-sm-1 order-2 payment_nng"
      style="margin-top:14px;">
      <div class="md-grid-item-content hoarding-btn" ng-class="{'red':selectedFormatIndex == 0}" ng-click="toggleShareCampaignSidenav(campaignPaymentDetails.id)">
        <p class="md-caption"><span><i class="material-icons i_icon">
              reply_all
            </i></span></p>
        <p class="mob_spanicon share_icon">Share Campaign</p>
      </div>
    </div> -->
    <div class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-6 order-xl-1 order-lg-1 order-md-1 order-sm-1 order-2 payment_nng">
        <div class="dropdown">
          <md-button onclick="shareownerCampaign()" class="dropbtn drop_width">
              <p class="cmp_bottom md-caption" style="margin-bottom: 0px;"><span><i class="material-icons i_icon">
                  reply_all
                </i></span></p>
            <p class="mob_spanicon share_icon" style="margin-bottom: 0px;">Share Campaign</p>
          </md-button>
          <div id="ownerupdatepaymentDrop" class="dropdown-content contbg animated fadeInDown contant_drop share_detailsmob" style="padding:10px;">
          <form name="forms.ownerCampaignForm" role="form" novalidate="novalidate">
            <div layout="colmun">
            <span flex></span>
            <md-button class="md-icon-button" aria-label="Close Side Panel" onclick="shareownerCampaign()">
              <md-icon class="md-default-theme">
              <i class="material-icons">close</i>
              </md-icon>
            </md-button>
            </div>
            <h3 class="md-title" style="margin-top:-28px;margin-left: 11px;">Share Campaign</h3><br>
            <form name="shareCampaignForm">
              <div layout="column" style="padding:10px;">
                <div class="form-group">
                  <input ng-model="shareCampaign.receiver_name" class="form-control" name="receiver_name" placeholder="Name" required="required" />
                  <div ng-messages="shareCampaignForm.receiver_name.$error">
                    <div ng-message="required">Name is required.</div>
                    <div ng-message="pattern">Enter a valid Name.</div>
                  </div>
                </div>
                <div class="form-group">
                  <input ng-model="shareCampaign.email" name="email" class="form-control" placeholder="Email" type="email" required="required" ng-pattern="/^[A-Za-z]+[A-Za-z0-9._-]+[A-Za-z0-9]+@[a-z0-9]+.[A-Za-z]{2,4}$/" />
                  <div ng-messages="shareCampaignForm.email.$error">
                    <div ng-message="required">Email is required.</div>
                    <div ng-message="pattern">Enter a valid Email Id.</div>
                  </div>
                </div>
                <div class="offset-md-7 col-md-5" style="padding-right: 0px;">
                    <md-button class="md-raised md-warn Upload_font" layout-fill ng-click="shareCampaignToEmail($event, shareCampaign,campaignPaymentDetails.id)">Share
                        Campaign</md-button>
                </div>
                
              </div>
            </form>
          </form>
          </div>
        </div>
        </div>
    <!-- <div class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-6 order-xl-1 order-lg-1 order-md-1 order-sm-1 order-4 payment_nng">
        <div class="md-grid-item-content hoarding-btn" ng-class="{'red':selectedFormatIndex == 0}" ng-click="selectedFormatIndex = 0">
            <a href="assets/images/owner/owner_logo.png" download>
              <md-button class="dropbtn drop_width">
                  <p class="cmp_bottom md-caption" style="margin-bottom: 0px;"><span><i class="material-icons i_icondown">
                      file_copy
                    </i></span></p>
                <p class="mob_spanicon share_icon" style="margin-bottom: 0px;">Download Quotation</p>
              </md-button>
            </a>
      </div>
    </div> -->
    <div class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-6 order-xl-1 order-lg-1 order-md-1 order-sm-1 order-4 payment_nng"
    style="cursor: pointer;">			
     <div class="md-grid-item-content hoarding-btn" ng-class="{'red':selectedFormatIndex == 0}" ng-click="selectedFormatIndex = 0">
         <a ng-click="downloadOwnerQuote(campaignPaymentDetails.id)" download>
     <md-button class="dropbtn drop_width">
         <!-- ng-click="downloadPdf()" with service -->
         <!-- ng-click="getConvas()"  with out service id="exportthis"-->
         <p class="cmp_bottom md-caption" style="margin-bottom: 0px;"><span><i class="material-icons i_icondown">
             file_copy
           </i></span></p>
       <p class="mob_spanicon share_icon" style="margin-bottom: 0px;">Download Quotation</p>
     </md-button>
   </a>
   </div>
   </div>
    <div class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-6 order-xl-1 order-lg-1 order-md-1 order-sm-1 order-6 payment_nng"
      style="margin-top:1em;">
      <div class="dropdown" style="float: right;">
          <md-button class="md-raised md-primary all_button update_mrg" onclick="addPayment()" class="dropbtn" ng-if="campaignPaymentDetails.type!=0" ng-disabled="campaignPaymentDetails.totalamount-campaignPaymentDetails.total_paid == 0">
          Add Payment
        </md-button>
        <div id="addpaymentdrop" class="dropdown-content contbg animated fadeInDown add_paymentowner">
          <form name="forms.ownerCampaignForm" role="form" novalidate="novalidate">
            <div layout="colmun">
              <span flex></span>
              <md-button class="md-icon-button" aria-label="Close Side Panel" onclick="addPayment()">
                <md-icon class="md-default-theme">
                  <i class="material-icons">close</i>
                </md-icon>
              </md-button>
            </div>
            <h3 class="md-title" style="margin-top:-28px;">Grand Total : ${{campaignPaymentDetails.totalamount |number : 2}}</h3><br>
            <p><b>Balence :&nbsp;${{campaignPaymentDetails.totalamount-campaignPaymentDetails.total_paid || '0' |number : 2}}</b></p>
            <li>
              <div class="">
                <div class="col-md-12">
                    <div class="form-group row">
                      <label for="amount" class="col-sm-4 col-form-label md-body-2">Mode *:</label>
                      <div class="col-sm-8">
                        <select id="paymentType" ng-model="campaignPayment.type" name="mode" class="form-control md-whiteframe-3dp" required="required">
                          <option ng-repeat="paymentType in paymentTypes" ng-value="{{paymentType.name}}">{{paymentType.name}}</option>
                        </select>
                        <span ng-show="forms.ownerCampaignForm.mode.$error.required" style="color:red" ng-if="forms.ownerCampaignForm.mode.$touched">
                          Mode Is required!!
                        </span>                        
                      </div>
                    </div>
                    <div class="form-group row">
                      <label for="paymentType" class="col-sm-4 col-form-label md-body-2">Amount</label>
                      <div class="col-sm-8">
                        <input type="text" class="form-control md-whiteframe-3dp" name="amount" required="required" only-numeric id="amount" ng-model="campaignPayment.amount">
                        <div ng-messages="forms.ownerCampaignForm.amount.$error" style="color:red" ng-if="forms.ownerCampaignForm.amount.$touched">
                            <div ng-message="required">Amount is required.</div>
                          </div>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label for="paymentType" class="col-sm-4 col-form-label md-body-2">Reference No:</label>
                      <div class="col-sm-8">
                        <input type="text" class="form-control md-whiteframe-3dp" id="amount" name="reference" only-numeric required="required" ng-model="campaignPayment.reference_no">
                        <div ng-messages="forms.ownerCampaignForm.reference.$error" style="color:red" ng-if="forms.ownerCampaignForm.reference.$touched">
                            <div ng-message="required">Reference No is required.</div>
                          </div>
                      </div>
                    </div>                    
                    <div class="form-group row">
                      <label for="paymentType" class="col-sm-4 col-form-label md-body-2">Received By *:</label>
                      <div class="col-sm-8">
                        <input type="text" class="form-control md-whiteframe-3dp" id="amount" only-letters-input  name="recived" required="required" ng-model="campaignPayment.received_by">
                        <div ng-messages="forms.ownerCampaignForm.recived.$error" style="color:red" ng-if="forms.ownerCampaignForm.recived.$touched">
                            <div ng-message="required">Received By is required.</div>
                          </div>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label for="paymentType" class="col-sm-4 col-form-label md-body-2">Comments</label>
                      <div class="col-sm-8">
                        <textarea class="form-control md-whiteframe-3dp" rows="5" id="comment" name="text" placeholder="Type Your Massage"
                          ng-model="campaignPayment.comment"></textarea>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label for="paymentType" class="col-sm-4 col-form-label md-body-2">Upload Image</label>
                      <div class="col-sm-8">
                        <span class="input-group-btn">
                          <span class="">
                            <input type="file" ngf-select ng-model="files.image" name="files.image" class="form-control md-whiteframe-3dp"
                              accept="image/*" ngf-max-size="1MB">
                          </span>
                        </span>
                        <div ng-messages="addProductForm.imageFile.$error" ng-if="addProductForm.imageFile.$touched"
                          style="color:red">
                          <div ng-message="required">Image is required.</div>
                        </div>
                      </div>
                    </div>
                    <div class="form-group row">
                      <div flex></div>
                      <div class="col-sm-4">
                        <!-- <p><input type="file"  accept="image/*" name="image" id="file"  onchange="loadFile(event)" style="display: none;"></p>
                                   <p><label for="file" style="cursor: pointer;">Upload Image</label></p> -->
                      </div>
                      <div class="col-sm-4">
                        <md-button class="md-raised md-primary all_button pull-right text-white" ng-click="updateOwnerCampaignPayment(campaignPaymentDetails.id)">Submit</md-button>
                      </div>
                    </div>
                </div>
              </div>
            </li>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="table-responsive">
  <table class="table table-hover">
    <thead class="text_color">
      <tr>
        <th>Image</th>
        <th>Mode of Payment</th>
        <th>Reference No.</th>
        <th>Paid</th>
        <th>Received By</th>
        <th>Comment</th>        
        <th>Date</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="payment in campaignPaymentDetails.payment_details">
          <td class="image_tdwidth">
              <img ng-src="{{config.serverUrl + payment.image}}" alt="Smiley face"
              class="requ_size img-thumbnail" style="width: 165px !important;height: 100px !important;"></td>
        <td class="table_vertical">{{payment.type || "N/A" | capitalize}}</td>
        <td class="table_vertical">{{payment.reference_no || "N/A"}}</td>
        <td class="table_vertical">{{payment.amount || "N/A"}}</td>
        <td class="table_vertical">{{payment.received_by || "N/A"}}</td>
        <td class="table_vertical">{{payment.comment}}</td>        
        <td class="table_vertical">{{payment.updated_at | dateify | date: "dd-MMM-yyyy" || "N/A"}}</td>
      </tr>
    </tbody>
  </table>
</div>


<div class="row border_quest">
    <!-- <div class="col-md-4">
    </div>
    <div class="col-md-8">
            <div class="mt-3 pull-right sub_total" style="font-size: 13px;">
              <p class="font-weight-light" style="text-indent: 53px;"><b>Total : <spam class="float-right">{{campaignPaymentDetails.act_budget}}</b></spam></p>
              <p class="text_color" style="text-indent: 17px;">18% GST : <span class="float-right">{{ campaignPaymentDetails.gst_price |number : 2 ||"N/A" }}</span></p>
              <p class="" style="text-indent: 25px;font-size: 15px;font-weight: 500;">Grand Total : <span class="float-right">{{campaignPaymentDetails.totalamount}}</span>
              <p class="" style="text-indent: 25px;font-size: 15px;font-weight: 500;">Paid : <span class="float-right">{{campaignPaymentDetails.total_paid}}</span>
              <p class="" style="text-indent: 25px;font-size: 15px;font-weight: 500;">Balance : <spam class="float-right">{{campaignPaymentDetails.totalamount-campaignPaymentDetails.total_paid}}</spam>
              </p>
            </div>
    </div> -->
</div>



<div class="small-wrapper mt0">
  <div class="smallContainer">
    <div class="payment-summary">
      <ul id="double">
        <li class="col1">Total :</li>
        <li class="col2"><span>$</span>{{campaignPaymentDetails.act_budget || '0' |number : 2}}</li>
        <!-- <li class="col1 text_color">18% GST :</li>
        <li class="col2 text_color"><span>$</span>{{ campaignPaymentDetails.gst_price || '0' |number : 2}}</li>
        <li class="col1">Grand Total :</li>
        <li class="col2"><span>$</span>{{campaignPaymentDetails.totalamount || '0' |number : 2}}</li> -->
        <li class="col1">Paid :</li>
        <li class="col2"><span>$</span>{{campaignPaymentDetails.total_paid || '0' |number : 2}}</li>
      </ul>
      <div class=""></div>
      <ul id="total">
        <li class="col1">Balance :</li>
        <li class="col2"><span>$</span>{{campaignPaymentDetails.totalamount-campaignPaymentDetails.total_paid || '0' |number : 2}}</li>
      </ul>
      <div class=""></div>
    </div>
  </div>
</div>



<script>
  function shareownerCampaign() {
    document.getElementById("ownerupdatepaymentDrop").classList.toggle("show");
  }
  function addPayment() {
    document.getElementById("addpaymentdrop").classList.toggle("show");
  }
</script>

<script>
  var loadFile = function (event) {
    var image = document.getElementById('output');
    image.src = URL.createObjectURL(event.target.files[0]);
  };
</script>