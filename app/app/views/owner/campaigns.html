<md-sidenav class="md-sidenav-right md-whiteframe-z2 scrollbar__style" md-component-id="ownerAddCmapginSidenav">
  <md-toolbar layout="row">
    <div class="md-toolbar-tools" style="background:#414143 !important">
      <h2>
        <span>Create Campaign</span>
      </h2>
      <span flex></span>
      <md-button class="md-icon-button" aria-label="Close Side Panel" ng-click="toggleAddCamapginSidenav()">
        <md-tooltip>Close Side Panel</md-tooltip>
        <md-icon class="md-default-theme">
          <i class="material-icons">close</i>
        </md-icon>
      </md-button>
    </div>
  </md-toolbar>
  <md-content layout-padding="">
    <form name="forms.ownerCampaignForm" role="form" novalidate="novalidate">
      <div class="form-group">
        <label class="control-label">Campaign Name</label>
        <br>
        <input ng-model="ownerCampaign.name" name="name" class="form-control" type="text"
         minlength="3"
         maxlength="60"
         required="required" 
         ng-pattern="/^[A-Za-z]+[\sA-Za-z0-9._-]*$/">
         <div ng-messages="forms.ownerCampaignForm.name.$error" style="color:red" ng-if="!forms.ownerCampaignForm.name.$pristine">
            <div ng-message="required">Campaign Name is required.</div>
            <div ng-message="minlength">Campaign Name must have 3 characters.</div>
            <div ng-message="maxlength">Campaign Name shouldn't exceed 30 characters. </div>
            <div ng-message="pattern">Campaign Name should contain only Alpha Numeric and _ - . symbols.</div>
          </div>
      </div>
      <div class="form-group">
        <label class="control-label">Organization Name</label>
        <br>
        <input ng-model="ownerCampaign.org_name" name="org_name" class="form-control" type="text"
        minlength="3"
         maxlength="60"
         required="required"
         >
         <div ng-messages="forms.ownerCampaignForm.org_name.$error" style="color:red" ng-if="!forms.ownerCampaignForm.org_name.$pristine">
            <div ng-message="required">Organization Name is required.</div>
            <div ng-message="minlength">Organization Name must have 3 characters.</div>
            <div ng-message="maxlength">Organization Name shouldn't exceed 30 characters. </div>
          </div>
      </div>
      <div class="form-group">
        <label class="control-label">Contact Name</label>
        <br>
        <input ng-model="ownerCampaign.org_contact_name" name="contact_name" class="form-control" 
        type="text"
        required="required"
        >
        <div ng-messages="forms.ownerCampaignForm.org_name.$error" style="color:red" ng-if="!forms.ownerCampaignForm.contact_name.$pristine">
            <div ng-message="required">Contact Name is required.</div>
          </div>
        
      <div class="form-group">
        <label class="control-label">Email:</label>
        <input ng-model="ownerCampaign.org_contact_email" name ="email" class="form-control" type="email"
          required="required"
          ng-pattern="/^[A-Za-z]+[A-Za-z0-9._-]+[A-Za-z0-9]+@[a-z0-9]+.[A-Za-z]{2,4}$/">
          <div ng-messages="forms.ownerCampaignForm.email.$error" style="color:red" ng-if="!forms.ownerCampaignForm.email.$pristine">
              <div ng-message="required">Email is required.</div>
              <div ng-message="pattern">Enter a valid EmailId.</div>
            </div>
      </div>
      <div class="form-group">
        <label class="control-label">Phone Number</label>
        <br>
        <input ng-model="ownerCampaign.org_contact_phone" name="phone" only-numeric class="form-control" type="text" maxlength="10" required="required">
        <div ng-messages="forms.ownerCampaignForm.phone.$error" style="color:red" ng-if="!forms.ownerCampaignForm.phone.$pristine">
            <div ng-message="required">Phone No is required.</div>
            <div ng-message="maxlength">Phone No must have 10 characters.</div>
          </div>
      </div>
      </div>
      <div class="form-group">  
          <label>Start date</label>
          <md-datepicker ng-model="ownerCampaign.start_date" onkeydown="return false" md-placeholder="Enter date" md-min-date="minStartDate" ng-init="ownerCampaign.start_date = defaultStartDate" ng-change="updateEndDateValidations()"></md-datepicker>          
          <div ng-messages="forms.ownerCampaignForm.start_date.$error" style="color:red" ng-if="!forms.ownerCampaignForm.start_date.$pristine">
              <div ng-message="required">Start date is required.</div>
            </div>
        </div>
      </div>
      <div class="form-group">
        <div flex-gt-xs="">
          <label>End date</label>
          <md-datepicker ng-model="ownerCampaign.end_date" onkeydown="return false" md-placeholder="Enter date" md-min-date="minEndDate"></md-datepicker>
          </div>
          <div ng-messages="forms.ownerCampaignForm.end_date.$error" ng-if="!forms.ownerCampaignForm.end_date.$pristine">
              <div ng-message="required">End date is required.</div>
            </div>
        </div>
      </div>
      <div ng-repeat="campError in ownerCampaignErrors" ng-if="ownerCampaignErrors.length > 0" style="color:red">
        {{campError}}

        </div>
      <div class="form-group" style="margin:10px 0">
        <label class="col-md-3 control-label"></label>
        <input class="btn btn-primary" ng-click="saveOwnerCampaign()" ng-disabled="forms.ownerCampaignForm.$invalid" value="Save" type="button">
        <span></span>
        <input class="btn btn-default" ng-click="toggleAddCamapginSidenav()" value="Cancel" type="reset">
      </div>
    </form>
  </md-content>
</md-sidenav>


<div layout="column" layout-fill="layout-fill">
  <md-tabs md-dynamic-height>
    <md-tab label="Proposals">
      <div layout="colmun">
        <div id="CampaignSsearchInput" style="margin:8px;" layout-align="center start" layout="column" flex="40">
          <md-autocomplete ng-disabled="isDisabled" md-selected-item="campaignSelectedItem" md-search-text-change="campaignSearchTextChange(campaignSearchText)"
            md-search-text="campaignSearchText" md-selected-item-change="viewSelectedCampaign(campaign)" md-items="campaign in campaignSearch(campaignSearchText)"
            md-item-text="campaign.name" md-min-length="4" placeholder="Search..." style="width:100%" md-clear-button="true">
            <md-item-template>
              <span class="item-title">
                <span> {{campaign.name}} </span>
              </span>
              <span class="item-metadata">
                <span>
                  <strong>{{campaign.first_name}} {{campaign.last_name}}</strong>
                </span>
                <span>
                  <strong>{{campaign.email}}</strong>
                </span>
                <span>
                  <strong>{{campaign.phone}}</strong>
                </span>
              </span>
            </md-item-template>
            <md-not-found>
              No matches found.
            </md-not-found>
          </md-autocomplete>
        </div>
        <span flex></span>
        <md-button class="md-raised md-warn" ng-click="toggleAddCamapginSidenav()">
          Add New Campaign
          <span>
            <md-icon md-svg-icon="assets/images/finalise.svg"></md-icon>
          </span>
        </md-button>
      </div>
      <div style="margin-top: 1em;">
        <div class="table-responsive">
          <table class="table table-striped table-bordered ">
            <thead>
              <tr>
                <!-- <th>Created</th> -->
                <th>Campaign Name</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="campaign in plannedCampaigns | limitTo:limit">
                <!-- <td>{{campaign.created_by}}</td> -->
                <td>{{campaign.name}}</td>
                <td>{{campaign.start_date | date }}</td>
                <td>{{campaign.end_date | date }}</td>
                <td>{{campaign.status | stringifyCampaignStatus }}</td>
                <td>
                  <span>
                    <a ng-href="#/owner/{{clientSlug}}/campaign-details/{{campaign.id}}/{{campaign.type}}" ng-click="">
                      <md-icon>
                        <i class="material-icons">mode_edit</i>
                      </md-icon>
                    </a>
                  </span>
                  <!-- <span><a ng-href="#" ng-click=""><md-icon><i class="material-icons">done</i></md-icon></a></span> -->
                  <!-- <span><a ng-href="#" ng-click=""><md-icon><i class="material-icons">share</i></md-icon></a></span> -->
                  <!-- <span><a style="cursor:pointer;" ng-click="deleteCampaign(campaign.id)" ng-if="campaign.status < 3"><md-icon><i class="material-icons">delete</i></md-icon></a></span> -->
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- <div layout="colmun" layout-align="end center" layout-margin>
            <button style="width:120px;" class="more btn btn-primary btn-block" ng-click="loadMore()">Load More!</button>
          </div> -->
      </div>
    </md-tab>

    <md-tab label="Running">
      <div layout="colmun">
        <div id="CampaignSsearchInput" style="margin:8px;" layout-align="center start" layout="column" flex="40">
          <md-autocomplete ng-disabled="isDisabled" md-selected-item="campaignSelectedItem" md-search-text-change="campaignSearchTextChange(campaignSearchText)"
            md-search-text="campaignSearchText" md-selected-item-change="viewSelectedCampaign(campaign)" md-items="campaign in campaignSearch(campaignSearchText)"
            md-item-text="campaign.name" md-min-length="4" placeholder="Search..." style="width:100%" md-clear-button="true">
            <md-item-template>
              <span class="item-title">
                <span> {{campaign.name}} </span>
              </span>
              <span class="item-metadata">
                <span>
                  <strong>{{campaign.first_name}} {{campaign.last_name}}</strong>
                </span>
                <span>
                  <strong>{{campaign.email}}</strong>
                </span>
                <span>
                  <strong>{{campaign.phone}}</strong>
                </span>
              </span>
            </md-item-template>
            <md-not-found>
              No matches found.
            </md-not-found>
          </md-autocomplete>
        </div>
        <span flex></span>
        <md-button class="md-raised md-warn" ng-click="toggleAddCamapginSidenav()">
          Add New Campaign
          <span>
            <md-icon md-svg-icon="assets/images/finalise.svg"></md-icon>
          </span>
        </md-button>
      </div>
      <div style="margin-top: 1em;">
        <div class="table-responsive">
          <table class="table table-striped table-bordered ">
            <thead>
              <tr>
                <!-- <th>Created</th> -->
                <th>Campaign Name</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="campaign in runningCampaigns | limitTo:limit">
                <!-- <td>{{campaign.created_by}}</td> -->
                <td>{{campaign.name}}</td>
                <td>{{campaign.start_date | date }}</td>
                <td>{{campaign.end_date | date }}</td>
                <td>{{campaign.status | stringifyCampaignStatus }}</td>
                <td>
                  <span>
                    <a ng-href="#/owner/{{clientSlug}}/campaign-details/{{campaign.id}}/{{campaign.type}}" ng-click="" ng-if="campaign.status != 0">
                      <md-icon>
                        <i class="material-icons">mode_edit</i>
                      </md-icon>
                    </a>
                  </span>
                  <!-- <span><a ng-href="#" ng-click=""><md-icon><i class="material-icons">done</i></md-icon></a></span> -->
                  <!-- <span><a ng-href="#" ng-click=""><md-icon><i class="material-icons">share</i></md-icon></a></span> -->
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- <div layout="colmun" layout-align="end center" layout-margin>
              <button style="width:120px;" class="more btn btn-primary btn-block" ng-click="loadMore()">Load More!</button>
            </div> -->
      </div>
    </md-tab>

    <md-tab label="Closed">
      <div layout="colmun">
        <div id="CampaignSsearchInput" style="margin:8px;" layout-align="center start" layout="column" flex="40">
          <md-autocomplete ng-disabled="isDisabled" md-selected-item="campaignSelectedItem" md-search-text-change="campaignSearchTextChange(campaignSearchText)"
            md-search-text="campaignSearchText" md-selected-item-change="viewSelectedCampaign(campaign)" md-items="campaign in campaignSearch(campaignSearchText)"
            md-item-text="campaign.name" md-min-length="4" placeholder="Search..." style="width:100%" md-clear-button="true">
            <md-item-template>
              <span class="item-title">
                <span> {{campaign.name}} </span>
              </span>
              <span class="item-metadata">
                <span>
                  <strong>{{campaign.first_name}} {{campaign.last_name}}</strong>
                </span>
                <span>
                  <strong>{{campaign.email}}</strong>
                </span>
                <span>
                  <strong>{{campaign.phone}}</strong>
                </span>
              </span>
            </md-item-template>
            <md-not-found>
              No matches found.
            </md-not-found>
          </md-autocomplete>
        </div>
        <span flex></span>
        <md-button class="md-raised md-warn" ng-click="toggleAddCamapginSidenav()">
          Add New Campaign
          <span>
            <md-icon md-svg-icon="assets/images/finalise.svg"></md-icon>
          </span>
        </md-button>
      </div>
      <div style="margin-top: 1em;">
        <div class="table-responsive">
          <table class="table table-striped table-bordered ">
            <thead>
              <tr>
                <!-- <th>Created</th> -->
                <th>Campaign Name</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="campaign in closedCampaigns | limitTo:limit">
                <!-- <td>{{campaign.created_by}}</td> -->
                <td>{{campaign.name}}</td>
                <td>{{campaign.start_date | date }}</td>
                <td>{{campaign.end_date | date }}</td>
                <td>{{campaign.status | stringifyCampaignStatus }}</td>
                <td>
                  <span>
                    <a ng-href="#/owner/{{clientSlug}}/campaign-details/{{campaign.id}}/{{campaign.type}}" ng-click="" ng-if="campaign.status != 0">
                      <md-icon>
                        <i class="material-icons">mode_edit</i>
                      </md-icon>
                    </a>
                  </span>
                  <!-- <span><a ng-href="#" ng-click=""><md-icon><i class="material-icons">done</i></md-icon></a></span> -->
                  <!-- <span><a ng-href="#" ng-click=""><md-icon><i class="material-icons">share</i></md-icon></a></span> -->
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- <div layout="colmun" layout-align="end center" layout-margin>
            <button style="width:120px;" class="more btn btn-primary btn-block" ng-click="loadMore()">Load More!</button>
          </div> -->
      </div>
    </md-tab>
    <md-tab label="Your Campaigns">
      <div layout="colmun">
        <div id="CampaignSsearchInput" style="margin:8px;" layout-align="center start" layout="column" flex="40">
          <md-autocomplete ng-disabled="isDisabled" md-selected-item="campaignSelectedItem" md-search-text-change="campaignSearchTextChange(campaignSearchText)"
            md-search-text="campaignSearchText" md-selected-item-change="viewSelectedCampaign(campaign)" md-items="campaign in campaignSearch(campaignSearchText)"
            md-item-text="campaign.name" md-min-length="4" placeholder="Search..." style="width:100%" md-clear-button="true">
            <md-item-template>
              <span class="item-title">
                <span> {{campaign.name}} </span>
              </span>
              <span class="item-metadata">
                <span>
                  <strong>{{campaign.first_name}} {{campaign.last_name}}</strong>
                </span>
                <span>
                  <strong>{{campaign.email}}</strong>
                </span>
                <span>
                  <strong>{{campaign.phone}}</strong>
                </span>
              </span>
            </md-item-template>
            <md-not-found>
              No matches found.
            </md-not-found>
          </md-autocomplete>
        </div>
        <span flex></span>
        <md-button class="md-raised md-warn" ng-click="toggleAddCamapginSidenav()">
          Add New Campaign
          <span>
            <md-icon md-svg-icon="assets/images/finalise.svg"></md-icon>
          </span>
        </md-button>
      </div>
      <div style="margin-top: 1em;">
        <div class="table-responsive">
          <table class="table table-striped table-bordered ">
            <thead>
              <tr>
                <!-- <th>Created</th> -->
                <th>Campaign Name</th>
                <th>Client Name</th>
                <th>Client Contact Name</th>
                <th>Client Phone</th>
                <th>Client Email</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr ng-repeat="campaign in ownerCampaigns | limitTo:limit">
                <!-- <td>{{campaign.created_by}}</td> -->
                <td>{{campaign.name}}</td>
                <td>{{campaign.org_name}}</td>
                <td>{{campaign.org_contact_name}}</td>
                <td>{{campaign.org_contact_phone}}</td>
                <td>{{campaign.org_contact_email}}</td>
                <td>{{campaign.start_date | date }}</td>
                <td>{{campaign.end_date | date }}</td>
                <td>{{campaign.status | stringifyCampaignStatus }}</td>
                <td>
                  <span>
                    <a ng-href="#/owner/{{clientSlug}}/campaign-details/{{campaign.id}}/{{campaign.type}}">
                      <md-icon>
                        <i class="material-icons">mode_edit</i>
                      </md-icon>
                    </a>
                  </span>
                  <!-- <span><a ng-href="#" ng-click=""><md-icon><i class="material-icons">done</i></md-icon></a></span> -->
                  <!-- <span><a ng-href="#" ng-click=""><md-icon><i class="material-icons">share</i></md-icon></a></span> -->
                  <span>
                    <a style="cursor:pointer;" ng-if="campaign.status < 6" ng-click="deleteOwnerCampaign(campaign.id)">
                      <md-icon>
                        <i class="material-icons">delete</i>
                      </md-icon>
                    </a>
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <!-- <div layout="colmun" layout-align="end center" layout-margin>
            <button style="width:120px;" class="more btn btn-primary btn-block" ng-click="loadMore()">Load More!</button>
          </div> -->
      </div>
    </md-tab>
  </md-tabs>
</div>