<!-- List of shortlisted products' details sidenav -->
  <md-sidenav class="md-sidenav-right md-whiteframe-z2 scrollbar__style"  style="z-index:99" md-component-id="shortlistAndSaveOwnerSidenav">
    <div layout="row">
      <div class="md-toolbar-tools bg_main_color" style="color:#fff" >
        <div class="md-title">Shortlisted Products</div>
        <div flex></div>
        <md-button class="md-icon-button" aria-label="Close Side Panel" ng-click="shortlistProduct()">
          <md-tooltip>Close Side Panel</md-tooltip>
          <i class="material-icons">close</i>
        </md-button>
      </div>
    </div>
    <md-content>
      <div layout="column" layout-margin  ng-repeat="shortlisted in shortListedProducts"  style="margin: 0 8px 0 8px;">
        <div layout="row">
          <div layout="column" layout-align="center start"  flex="50">
            <div class="md-body-2">{{shortlisted.siteNo}}</div>
          </div>
          <div layout="row" layout-align="end center" flex="50">
            <img src="assets/images/maps/light-3030.jpg" ng-if="shortlisted.lighting == 0" />
            <img src="assets/images/maps/light-color3030.jpg" ng-if="shortlisted.lighting == 1" />
            <span class="md-subhead plane-size">{{shortlisted.panelSize}}</span>
          </div>
        </div>
        <div layout="row" style="margin: 0 8px 0 8px;">
          <div layout="column" flex="35" layout-align="center start" class="margin-con">
            <div class="md-body-2">{{shortlisted.format_name}}</div>
          </div>
          <div layout="column" flex="35" layout-align="center start">
            <div class="md-body-2">Facing</div>
          </div>
          <div layout="column" flex="30" layout-align="center end ">
            <div class="md-body-2">Impressions</div>
          </div>
        </div>
        <div layout="row">
          <div layout="column" flex="35" layout-align="center start" class="margin-con">
            <div class="md-caption">{{shortlisted.address}}</div>
            <div class="md-caption">500001</div>
          </div>
          <div layout="column" flex="35" layout-align=" start center">
            <div class="md-caption">{{shortlisted.direction}}</div>
          </div>
          <div layout="column" flex="30" layout-align="start end ">
            <div class="md-caption">{{shortlisted.impressions}}</div>
            <div class="md-caption">week(Approx)</div>
          </div>
        </div>
        <md-card-actions layout="row" layout-align="end center" style="margin:0px">
          <md-button style="margin:0px" ng-click="viewProduct(shortlisted)">View</md-button>
          <md-button style="margin:0px" ng-click="deleteShortlisted($event, shortlisted.id)">Delete</md-button>
        </md-card-actions>
        <md-divider></md-divider>
      </div>
      <div layout="row" layout-margin>
        <div>
          <md-button class="md-raised md-warn"  ng-click="toggleSaveCampaignSidenav()">Save Campaign</md-button>
        </div>
        <div>
          <md-button class="md-raised md-primary"  ng-click="shareProducts()">Share Campaign</md-button>
        </div>
        <!-- <div class="suggtn"><span class="suggtn-one">Need Suggestions?</span><span class="suggtn-two"><md-butoon ng-click="toggleSuggestMeSidenav()" class="md-primary">SUGGEST ME</md-button></span></div> -->
      </div>
    </md-content>
  </md-sidenav> 
<!-- List of shortlisted products' details sidenav ends -->
<!-- Add Product details sidenav html start-->
  <md-sidenav class="md-sidenav-right md-whiteframe-z2 scrollbar__style"  style="z-index:99" md-component-id="saveCampaignSidenav">
    <div layout="row">
      <div class="md-toolbar-tools bg_main_color" style="color:#fff">
        <div class="">Add Product</div>
        <div flex></div>
        <md-button class="md-icon-button" aria-label="Close Side Panel" ng-click="addProductOwner()">
          <md-tooltip>Close Side Panel</md-tooltip>
          <i class="material-icons">close</i>
        </md-button>
      </div>
      
    </div>
    <div class="product__content">

        <div  layout-margin>
          <input type="hidden" name="suggestedProduct.id" ng-model="suggestedProduct.id" ng-init="suggestedProduct.id = product.id"/>
          <h5>Start Date </h5>
          <div class="form-group">
            <div class='input-group' >
              <input type='text' class="form-control" 
                datepicker-popup
                ng-model="suggestedProduct.start_date" 
                is-open="opened.start" 
                ng-click="opened.start = !opened.start" 
                max-date='model.end_date'
                ng-readonly='true' placeholder="" />
              <span class="input-group-addon" for='start' 
                  ng-click="opened.start = !opened.start; $event.stopPropagation()">
                
                <img src="assets/images/owner/date.png" />
              </span>
            </div>
          </div>
          <h5>End Date </h5>
          <div class="form-group">
            <div class='input-group'>
              <input type='text' class="form-control" 
                datepicker-popup 
                ng-model="suggestedProduct.end_date" 
                is-open="opened.end" 
                ng-click="opened.end = !opened.end"
                min-date='suggestedProduct.start_date' 
                ng-readonly='true' placeholder="" />
              <span class="input-group-addon" ng-click="opened.end = !opened.end;  $event.stopPropagation()">
                
                <img src="assets/images/owner/date.png" />
              </span>
            </div>
          </div>
        </div>
        <md-divider></md-divider>
        <div layout="column" layout-xs="column" flex-xs="100" layout-gt-xs="column" flex-gt-xs="100" layout-margin>
          <div layout="row">
            <md-input-container class="md-block margin-input" style="margin:0px;height:30px">
              <md-icon md-svg-icon="assets/images/rupee.svg"></md-icon>
              <input ng-model="suggestedProduct.price" type="text" name="price" required="required" 
                ng-pattern="/[0-9]+/" ng-disabled="!enabledPrice"/>
            </md-input-container>
            <md-button class="md-primary" ng-click="enabledPrice = true;" ng-show="!enabledPrice" style="font-size:11px">Change Price</md-button>
          </div>
          <div class="md-body-1">Note:This Price Will not affected actual price</div>
        </div>
        <md-divider></md-divider>
        <div layout="row" layout-align="center center">
          <md-button class="md-raised md-primary" ng-click="suggestProductForCampaign(suggestedProduct)">Add</md-button>
        </div>
    </div>
  </md-sidenav> 
<!-- Add Product details sidenav html start-->
<!-- Share Campaign Sidenav -->
  <md-sidenav class="md-sidenav-right md-whiteframe-z2 scrollbar__style" style="z-index:99" md-component-id="shareProductOwner" id="popupContainer">
    <div layout="row">
      <div class="md-toolbar-tools bg_main_color" style="color:#fff">
        <h3>Share Product Details</h3>
        <span flex></span>
        <md-button class="md-icon-button" aria-label="Close Side Panel" ng-click="shareProducts()">
          <md-tooltip>Close Side Panel</md-tooltip>
           <i class="material-icons">close</i></md-icon>
        </md-button>
      </div>
    </div>
    <md-content layout-align="center center" layout-margin >
      
      <form name="shareShortlistedForm">
        <div layout="column">
          <md-input-container class="md-block">
            <label>Name</label>
            <input ng-model="shareShortlisted.name" name="name" required="required"/>
            <div ng-messages="shareShortlistedForm.name.$error">
              <div ng-message="required">Name is required.</div>
              <div ng-message="pattern">Enter a valid Name.</div>
            </div>
          </md-input-container>
          <md-input-container class="md-block">
            <label>Email</label>
            <input ng-model="shareShortlisted.email" name="email" type="email" required="required" ng-pattern="/^[A-Za-z]+[A-Za-z0-9._-]+[A-Za-z0-9]+@[a-z0-9]+.[A-Za-z]{2,4}$/" />
            <div ng-messages="shareShortlistedForm.email.$error">
              <div ng-message="required">Email is required.</div>
              <div ng-message="pattern">Enter a valied Email Id.</div>
            </div>
          </md-input-container>
          <md-button class="md-raised md-warn" layout-fill ng-click="shareShortlistedProducts(shareShortlisted)">SHARE PRODUCT LIST</md-button>
        </div>
      </form>
    </md-content>
  </md-sidenav>
  
  <!--  Add New Campaigns  -->
  <md-sidenav class="md-sidenav-right md-whiteframe-z2 scrollbar__style"  style="z-index:99" md-component-id="ownerAddcmapgin">
        <md-toolbar layout="row">
            <div class="md-toolbar-tools" style="background:#414143 !important">
            <h2>
                <span>Create Campiagn</span>
            </h2>
            <span flex></span>
            <md-button class="md-icon-button" aria-label="Close Side Panel" ng-click="addCamapginSidenav()">
                <md-tooltip>Close Side Panel</md-tooltip>
                <md-icon class="md-default-theme"><i class="material-icons">close</i></md-icon>
            </md-button>
            </div>
        </md-toolbar> 
        <md-content layout-padding="">
            <form ng-cloak name="signup" novalidate>
                <div class="form-group">
                    <label class="control-label"> Campaign Name</label>
                    <br>
                    <input  class="form-control" ng-model="campaign.name" type="text" name="name" minlength="2" maxlength="30" ng-pattern="/[A-Za-z0-9\-]$/" required/>
                    <div ng-messages="signup.name.$error" ng-if="submittedtrue">
                      <div ng-message="required">Campaign Name is required.</div>
                      <div ng-message="minlength">Campaign Name must have 2 characters.</div>
                      <div ng-message="maxlength">Campaign Name shouldn't exceed 20 characters. </div>
                      <div ng-message="pattern">Campaign Name should contain only Alpha Numeric and _ - . symbols.</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label"> Company Name</label>
                    <br>
                    <input  class="form-control" ng-model="campaign.companyName" type="text" name="cname" minlength="2" maxlength="30" required="required"/>
                    <div ng-messages="signup.cname.$error" ng-if="submittedtrue">
                      <div ng-message="required">Company Name is required.</div>
                      <div ng-message="minlength">Company Name must have 2 characters.</div>
                      <div ng-message="maxlength">Company Name shouldn't exede 30 characters.</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label"> Client Name</label>
                    <br>
                     <input  class="form-control" ng-model="campaign.client_name" type="text" name="client_name" minlength="2" maxlength="30" required="required" ng-pattern="/^[A-Za-z]+[A-Za-z0-9._-]+[A-Za-z0-9]$/" />
                    <div ng-messages="signup.client_name.$error" ng-if="submittedtrue">
                      <div ng-message="required">Client Name is required.</div>
                      <div ng-message="minlength">Client Name must have 2 characters.</div>
                      <div ng-message="maxlength">Client Name shouldn't exede 30 characters. </div>
                      <div ng-message="pattern">Client Name should contain only Alpha Numeric and _ - . symbols.</div>
                    </div>      
                </div>
                <div class="form-group">
                    <label class="control-label">Email:</label>
                    <input  class="form-control" ng-model="campaign.client_email" name="email" type="email" minlength="8" maxlength="30" required="required" ng-pattern="/^[A-Za-z]+[A-Za-z0-9._-]+[A-Za-z0-9]+@[a-z0-9]+.[A-Za-z]{2,4}$/" />
                    <div ng-messages="signup.email.$error" ng-if="submittedtrue">
                      <div ng-message="required">Email is required.</div>
                      <div ng-message="minlength">Email must have 8 characters.</div>
                      <div ng-message="maxlength">Email shouldn't exede 30 characters. </div>
                      <div ng-message="pattern">Enter a valied Email Id.</div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label"> Phone Number</label>
                    <br>            
                    <input  class="form-control" ng-model="campaign.client_phoneNo" type="text" name="pno" minlength="10" maxlength="10" ng-pattern="/^[0-9]{10}$/" required="required" />
                     <div ng-messages="signup.pno.$error" ng-if="submittedtrue">
                      <div ng-message="required">Phone No is required.</div>
                      <div ng-message="minlength">Phone No must have 10 characters.</div>
                      <div ng-message="maxlength">Phone No shouldn't exede 10 characters.</div>
                      <div ng-message="pattern">Phone No should be only numbe.</div>
                     </div>
                </div>
                <div class="row">
                    <div class="col-md-6" style="padding-right:0px">
                        <div class="form-group">
                            <div class='input-group date' id='datetimepicker6'>                         
                                <md-datepicker name="startDate" ng-model="campaign.start_date" md-placeholder="Start Date" required></md-datepicker>
                                <div ng-messages="signup.startDate.$error" ng-if="submittedtrue">
                                  <div ng-message="required">Start Date required.</div>
                                </div>
                            </div>
                        </div>
                    </div>
                
                    <div class="col-md-6" style="padding-left:0px">
                        <div class="form-group">
                            <div class='input-group date' id='datetimepicker7'>
                                <md-datepicker name="endDate" ng-model="campaign.end_date" md-placeholder="End date" required></md-datepicker>
                                <div ng-messages="signup.endDate.$error" ng-if="submittedtrue">
                                  <div ng-message="required">End Date required.</div>
                                </div>                                
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label"> Estimated Bugest</label>
                    <br>
                    <input  class="form-control" ng-model="campaign.est_budget" type="text" name="budget" required="required" maxlength="10" />
                    <div ng-messages="signup.budget.$error" ng-if="submittedtrue">
                      <div ng-message="required">estimated budget required.</div>
                    </div>
                </div>
                <div class="form-group" style="margin:10px 0">
                    <label class="col-md-3 control-label"></label>
                    <input class="btn btn-primary" value="Save" type="button" ng-click="saveCampaign(this)">
                    <span></span>
                    <input class="btn btn-default" value="Cancel" type="reset">
                </div> 
     
            </form>
        </md-content> 
    </md-sidenav>


 <!-- Selected product detail sidenav-->
  <md-sidenav class="md-sidenav-right md-whiteframe-z2 sidenav-width" md-component-id="productDetails">
    <md-content ng-if="!existingCampaignSidenavVisible">
      <div layout="column" class="map-img">
        <div ng-click="showProductImagePopup($event, product.image)">
          <img ng-src="{{product.image}}" style="width:100%;height:200px;" />
        </div>
        
        <md-button class="md-icon-button close-btn" aria-label="Close Side Panel" ng-click="toggleProductDetailSidenav()">
          <md-tooltip>Close Side Panel</md-tooltip>
          <md-icon class="md-default-theme"><i class="material-icons">close</i></md-icon>
        </md-button>
      </div>
      <div layout="row" layout-margin>
        <div layout="column" layout-align="center start" flex="50">
          <div class="md-title">{{product.siteNo}}</div>
        </div>
        <div layout="row" layout-align="end center" flex="50">
          <img src="assets/images/maps/light-3030.jpg" ng-if="product.lighting == 0" />
          <img src="assets/images/maps/light-color3030.jpg" ng-if="product.lighting == 1" />
          <span class="md-subhead plane-size">{{product.panelSize}}</span>
        </div>
      </div>
      <div layout="row" layout-margin>
        <div layout="column" layout-align="center start" flex="50">
          <div class="md-body-2">Location</div>
        </div>
        <div layout="column" layout-align="center end " flex="50" style="text-align:right">
          <div class="md-caption">{{product.address}}</div>
        </div>
      </div>
      <div layout="row" layout-margin>
        <div layout="column" layout-align="center start" flex="50">
          <div class="md-body-2">No. of Views</div>
        </div>
        <div layout="column" layout-align="center end " flex="50">
          <div class="md-body-2" style="color:#D35400">{{product.impressions}}</div>
          <div class="md-caption">Week (Approx.)</div>
        </div>
      </div>
      <div layout="row" layout-margin>
        <div layout="column" layout-align="center start" flex="50">
          <div class="md-body-2">Facing</div>
        </div>
        <div layout="column" layout-align="center end" flex="50" style="text-align:right">
          <div class="md-caption">{{product.direction}}</div>
        </div>
      </div>
      <div layout="column" layout-margin>
        <md-button layout-fill class="md-raised" ng-click="addProductstoCampaignsSidenav()">ADD TO EXISTING CAMPAIGN</md-button>
      </div>
    </md-content>
  </md-sidenav>
  <!-- Selected product detail sidenav ends-->
  <md-sidenav class="md-sidenav-right md-whiteframe-z2 sidenav-width" md-component-id="addProductstoCampaigns">
    <md-content layout-margin layout-padding>
      <div layout="column" layout-margin>
        <div class="md-headline">Add to existing Campaign</div>
        <div class="md-headline" style="opacity:.5">Let's work Together!</div>
      </div>
      <div layout="row" layout-margin>
        <div><img ng-src="{{product.image}}" width="150px" height="150px"></div>
        <div>
          <div class="md-headline">{{product.siteNo}}</div>
          <div class="md-body-1" style="opacity:.5">{{product.address}}</div>
        </div>
      </div>
      <div layout="row" layout-margin>
        <md-input-container style="z-index:999;width:100%">
          <label>Select Campaign</label>
          <md-select ng-model="existingCampaign.id" required="required">
            <md-option ng-value="campaign.id" ng-repeat="campaign in plannedUserCampaigns">{{campaign.name}}</md-option>
          </md-select>
        </md-input-container>
      </div>
      <div layout="column" layout-margin>
        <div>
          <md-button class="md-raised md-warn" layout-fill ng-click="addProductToExistingCampaign(product.id,existingCampaign)"> ADD TO THIS CAMPAIGN</md-button>
        </div>
      </div>
    </md-content>
  </md-sidenav> 
  
     

  <!-- Share Campaign Sidenav ends -->
<div layout="column" class="owner_hoarding_list">
  <div layout="row" class="main__title">
    <div class="md-title">Hoarding List</div>
    <div flex></div>
    <div> <a class="shortlist__btn" ng-click="shortlistProduct()">Shortlisted Products</a></div>
  </div>
  
  <div class="row" style="margin-right:0px;margin-left:0px;">
      <div class="col-md-4 col-sm-6 col-xs-12" ng-repeat="product in productList | filter:searchText">
        <md-card class="margin_right_0 margin_left_0 hoarding__card__owner">
          <img ng-src="{{serverUrl+product.image}}" class="md-card-image card__img">
          <md-card-title class="card-title">
            <md-card-title-text>
              <span class="md-subhead" style="padding-top:0px">{{product.siteNo}}({{product.format_name}})</span>
            </md-card-title-text>
          </md-card-title>
          <md-content class="content_inner">
            
              <div layout="row" layout-padding class="hoarding__location">
                <div><md-icon md-svg-icon="assets/images/loaction.svg"></md-icon></div>
                <div class="ellipsis">
                  <span >{{product.address}}<br>
                    Facing:<span class="md-caption" style="color:red">{{product.direction}}</span>
                  </span>
                </div>
              </div>
              <md-divider></md-divider>
              <div layout="row" style="margin:5px 0" layout-xs="row" flex-xs="100" layout-gt-xs="row" flex-gt-xs="100">
                <div layout="column" flex="25" layout-align="center center">
                  <div><img src="assets/images/owner/rupee.png"></div>
                  <div>Price{{product.hoardingCost}}</div>
                </div>
                <div layout="column" flex="25" layout-align="center center">
                  <div><img src="assets/images/owner/light.png"></div>
                  <div>
                    Lit:<span ng-if="product.lighting">Yes</span>
                    <span ng-if="!product.lighting">No</span>
                  </div>
                </div>
                <div layout="column" flex="25" layout-align="center center">
                  <div><img src="assets/images/size.png"></div>
                  <div>size:{{product.panelSize}}</div>
                </div>
                <div layout="column" flex="25" layout-align="center center">
                  <div><img src="assets/images/owner/eye_black.png"></div>
                  <div>1,00,000</div>
                </div>
              </div>
              <md-divider></md-divider>
              <div layout="colmun">
                <md-card-actions layout="row" >
                  <md-card-icon-actions>
                    <md-button class="md-raised md-primary" style="background:#7b7b7d" ng-click="shortlistSelected(product.id)">Shortlist</md-button>
                    <md-button class="md-raised md-warn" style="background:#7b7b7d" ng-click="viewProduct(product)">View</md-button>
                  </md-card-icon-actions>
                </md-card-actions> 
                <div layout="row" flex ng-if="product.alreadyAdded">
                  <div flex="60">
                    <div class="md-caption">Product Already Added</div>
  
                  </div>
                  <div flex="40">
                    <md-button class="md-raised md-warn" ng-click="removeProductFromCampaignSuggestion(product.id)">Remove</md-button>
                  </div>
                </div>
              </div>
          </md-content>
        
        </md-card>
      </div>
  </div>
  <div layout="column" layout-align="center end">
    <md-button class="md-raised md-accent" ng-if="productLength>0" ng-click="loadMore()">Load More</md-button>
    <md-text class="md-raised md-accent" ng-if="productLength<=0">No More Products!!!!!</md-text>
  </div>
</div>