<style>
.chat_box ul li{
    list-style: none;
}
.user_dec{
  background: #BC2535;
    padding: 5px 11px;
    color: #fff;
    margin-right: 15px;
}
.user_bi{
    
    background: #000;
    padding: 5px 10px;
    color: #fff;
    margin-right: 15px;
}
</style>
<!-- share campaign sidenav -->
<md-sidenav
  class="md-sidenav-right md-whiteframe-z2 sidenav-width"
  md-component-id="shareCampaignSidenav"
>
  <div layout="row">
    <div class="md-toolbar-tools">
      <div flex></div>
      <md-button
        class="md-icon-button"
        aria-label="Close Side Panel"
        ng-click="toggleShareCampaignSidenav()"
      >
        <md-tooltip>Close Side Panel</md-tooltip>
        <md-icon class="md-default-theme"
          ><i class="material-icons">close</i></md-icon
        >
      </md-button>
    </div>
  </div>
  <md-content layout-align="center center" layout-margin layout-padding>
    <h3 class="md-headline">Share Campaign</h3>
    <form name="shareCampaignForm">
      <div layout="column">
        <md-input-container class="md-block">
          <label>Name</label>
          <input
            ng-model="shareCampaign.receiver_name"
            name="receiver_name"
            required="required"
          />
          <div ng-messages="shareCampaignForm.name.$error">
            <div ng-message="required">Name is required.</div>
            <div ng-message="pattern">Enter a valid Name.</div>
          </div>
        </md-input-container>
        <md-input-container class="md-block">
          <label>Email</label>
          <input
            ng-model="shareCampaign.email"
            name="email"
            type="email"
            required="required"
            ng-pattern="/^[A-Za-z]+[A-Za-z0-9._-]+[A-Za-z0-9]+@[a-z0-9]+.[A-Za-z]{2,4}$/"
          />
          <div ng-messages="shareCampaignForm.email.$error">
            <div ng-message="required">Email is required.</div>
            <div ng-message="pattern">Enter a valid Email Id.</div>
          </div>
        </md-input-container>
        <md-button
          class="md-raised md-warn"
          layout-fill
          ng-click="shareCampaignToEmail($event, shareCampaign)"
          >SHARE CAMPAIGN</md-button
        >
      </div>
    </form>
  </md-content>
</md-sidenav>
<!-- share campaign sidenav ends -->

<div ng-cloak flex="100" flex-xs="100" flex-sm="100">
  <div layout="column" layout-sm="column" layout-xs="column">
    <!-- <md-sidenav class="md-sidenav-right md-whiteframe-z2" md-component-id="quoteChangeRequestDetailsSidenav">
                <md-toolbar layout="row" style="    background: #48869c;">
                        <div class="md-toolbar-tools">
                                <h2>
                                        <span>Client Request</span>
                                </h2>
                                <span flex></span>
                                <md-button class="md-icon-button" aria-label="Close Side Panel" ng-click="toggleQuoteChangeRequestDetailsSidenav()">
                                        <md-icon>
                                                <i class="material-icons">clear</i>
                                        </md-icon>
                                </md-button>
                        </div>
                </md-toolbar>
                <md-content layout-padding>
                        <div class="md-whiteframe-z2 md-body-1" layout-margin ng-repeat="changeQuoteItem in changeRequestHistory">
                                <div>
                                        {{changeQuoteItem.remark}}
                                        <hr />
                                        <div layout-align="end center" style="font-size:11px;">{{changeQuoteItem.updated_at | dateify | date: "dd-MMM-yyyy"}}</div>
                                </div>
                        </div>
                </md-content>
        </md-sidenav> -->
    <!-- <div class="md-title" style="background: #447bde;color: #fff;" layout-padding>
                Proposal
        </div> -->
    <!-- <div class="Planned">
                <div class="bg-part">
                        <div layout="row" layout-xs="column" layout-sm="column" layout-gt-sm="row" layout-margin="layout-margin" class="client-summay">
                                <div layout="column" layuot-xs="column" layout-sm="column" layout-gt-sm="column" flex="50" flex-xs="100" flex-sm="100" flex-gt-sm="50"
                                 layout-margin="layout-margin" class="contbg md-whiteframe-3dp">
                                        <div layout="column" layout-align="center center">
                                                <div>
                                                        <span>
                                                                <img src="assets/images/client_details.png">
                                                        </span>
                                                </div>
                                                <h3>Client Details</h2>
                                        </div>
                                        <div layout="row" layout-align="center center">
                                                <div flex="50">Campaign Name:</div>
                                                <div flex="50">{{campaignDetails.name}}</div>
                                        </div>
                                        <div layout="row" layout-align="center center">
                                                <div flex="50">Client Name:</div>
                                                <div flex="50">{{campaignDetails.first_name}} {{campaignDetails.last_name}}</div>
                                        </div>
                                        <div layout="row" layout-align="center center">
                                                <div flex="50">Contact:</div>
                                                <div flex="50">{{campaignDetails.phone || "N/A"}}</div>
                                        </div>
                                        <div layout="row" layout-align="center center">
                                                <div flex="50">Email:</div>
                                                <div flex="50">{{campaignDetails.email || "N/A"}}</div>
                                        </div>
                                </div>
                                <div layout="column" flex="50" flex-xs="100" flex-sm="100" flex-gt-sm="50" layuot-xs="column" layout-sm="column" layout-gt-sm="column"
                                 layout-margin="layout-margin" class="contbg md-whiteframe-3dp">
                                        <div layout="column" layout-align="center center">
                                                <div>
                                                        <img src="assets/images/capaign_details.png">
                                                </div>
                                                <h3>Campaign Summary</h2>
                                        </div>
                                        <div layout="row">
                                                <div flex="50">Starting:</div>
                                                <div flex="50">From {{ campaignDetails.start_date | dateify | date: "dd-MMM-yyyy" }} To {{ campaignDetails.end_date | dateify | date:
                                                        "dd-MMM-yyyy" }}</div>
                                        </div>
                                        <div layout="row">
                                                <div flex="50">Estimated Budget:</div>
                                                <div flex="50">
                                                        <span ng-if="campaignDetails.est_budget">Rs.</span>{{campaignDetails.est_budget || "N/A"}}</div>
                                        </div>
                                        <div layout="row">
                                                <div flex="50">Actual Budget:</div>
                                                <div flex="50">
                                                        <span ng-if="campaignDetails.act_budget">Rs.</span>{{campaignDetails.act_budget || "N/A"}}</div>
                                        </div>
                                        <div layout="row">
                                                <div flex="50">Status:</div>
                                                <div flex="50">
                                                        <span layout-align="center center">{{campaignDetails.status | stringifyCampaignStatus }}</span>
                                                        <span layout-align="center center" ng-if="campaignDetails.status == 500" style="cursor:pointer;" ng-click="getChangeRequestHistory(campaignDetails.id)">
                                                                <i class="material-icons">info_outline</i>
                                                        </span>
                                                </div>
                                        </div>
                                </div>
                        </div>
                </div>
                <div layout="row" layout-xs="column" layout-sm="column" layout-gt-sm="row" layout-margin="layout-margin" class="client-summay"
                 ng-if="campaignDetails.status >= 700">
                        <div layout="column" layuot-xs="column" layout-sm="column" layout-gt-sm="column" flex="50" flex-xs="100" flex-sm="100" flex-gt-sm="50"
                         layout-margin="layout-margin" class="contbg md-whiteframe-3dp">
                                <div layout="column" layout-align="center center">
                                        
                                        <h3>Payment Details</h2>
                                </div>
                                <div layout="row">
                                        <div flex="50" layout="column" layout-align="center center">Total amount:</div>
                                        <div flex="50" layout="column" layout-align="center center">Rs. {{campaignDetails.act_budget || 0 }}</div>
                                </div>
                                <div layout="row">
                                        <div flex="50" layout="column" layout-align="center center">Paid Amount:</div>
                                        <div flex="50" layout="column" layout-align="center center">Rs. {{campaignPayments.total_paid || 0 }}</div>
                                </div>
                                <div layout="row" ng-if="campaignPayments.total_paid < campaignDetails.act_budget">
                                        <div flex="100" layout="column" layout-align="center center">
                                                <md-button Class="md-raised md-primary" type="submit" ng-click="showUpdatePaymentForm()">
                                                        Update Payment
                                                </md-button>
                                        </div>
                                </div>
                        </div>
                        <div layout="column" flex="50" flex-xs="100" flex-sm="100" flex-gt-sm="50" layuot-xs="column" layout-sm="column" layout-gt-sm="column"
                         layout-margin="layout-margin" class="contbg md-whiteframe-3dp">
                                <div layout="column" layout-align="center center">
                                        <h3>Recently Updated Payments</h2>
                                </div>
                                <div layout="column" layout-margin style="height:150px; overflow:auto;">
                                        <div layout="row">
                                                <div flex="20" layout="column" layout-align="center center">Date</div>
                                                <div flex="20" layout="column" layout-align="center center">Amount</div>
                                                <div flex="20" layout="column" layout-align="center center">Txn Type</div>
                                                <div flex="20" layout="column" layout-align="center center">Ref. No.</div>
                                                <div flex="20" layout="column" layout-align="center center">Accepted by</div>
                                        </div>
                                        <div layout="row" ng-if="!campaignPayments">
                                                <div flex="20" layout="column" layout-align="center center">N/A</div>
                                                <div flex="20" layout="column" layout-align="center center">Rs. 0</div>
                                                <div flex="20" layout="column" layout-align="center center">N/A</div>
                                                <div flex="20" layout="column" layout-align="center center">N/A</div>
                                                <div flex="20" layout="column" layout-align="center center">N/A</div>
                                        </div>
                                        <div layout="row" ng-repeat="payment in campaignPayments.all_payments">
                                                <div flex="20" layout="column" layout-align="center center">{{payment.updated_at | dateify | date: "dd/MM/yyyy"}}</div>
                                                <div flex="20" layout="column" layout-align="center center">{{"Rs." + payment.amount }}</div>
                                                <div flex="20" layout="column" layout-align="center center">{{payment.type }}</div>
                                                <div flex="20" layout="column" layout-align="center center">{{payment.reference_no || "N/A"}}</div>
                                                <div flex="20" layout="column" layout-align="center center">{{payment.updated_by_id_name }}</div>
                                        </div>
                                </div>
                                
                        </div>
                </div>
        </div> -->
    <!-- <div layout="row" layout-margin>
                <div flex="30">
                        <div style="margin: 30px 0 0 0;font-size: 20px;">Products({{campaignDetails.products.length || 0}})</div>
                </div>
                <div flex="70" layout="row" layout-align="end center">

                        <div>
                                <md-button class="md-raised md-warn" ng-click="toggleShareCampaignSidenav()">
                                        Share
                                        <span>
                                                <md-icon md-svg-icon="assets/images/finalise.svg"></md-icon>
                                        </span>
                                </md-button>
                                <md-button class="md-raised md-warn" ng-disabled="!(
                                campaignDetails.type != 0 && (campaignDetails.status < 700) || 
                                campaignDetails.from_suggestion == true && (campaignDetails.status < 300 || campaignDetails.status == 500) || 
                                campaignDetails.from_suggestion == false && (campaignDetails.status <= 200 || campaignDetails.status == 500)
                                )" ng-click="addNewProductToCampaign()">
                                        Add New Product
                                        <span>
                                                <md-icon md-svg-icon="assets/images/finalise.svg"></md-icon>
                                        </span>
                                </md-button>
                                <md-button class="md-raised md-warn" ng-disabled="!(
                                campaignDetails.type != 0 && (campaignDetails.status < 700) || 
                                campaignDetails.from_suggestion == true && (campaignDetails.status < 300 || campaignDetails.status == 500) || 
                                campaignDetails.from_suggestion == false && (campaignDetails.status <= 200 || campaignDetails.status == 500)
                                ) || !campaignDetails.products" ng-if="campaignDetails.type == 1" ng-click="notifyProductOwnersForQuote()">
                                        Notify Owners
                                        <span>
                                                <md-icon md-svg-icon="assets/images/finalise.svg"></md-icon>
                                        </span>
                                </md-button>
                                <md-button class="md-raised md-warn" ng-disabled="!campaignDetails || !campaignDetails.products || (campaignDetails.status > 300 && campaignDetails.status != 500)"
                                 ng-click="finalizeCampaign()" ng-if="campaignDetails.type == 0">
                                        Finalize
                                        <span>
                                                <md-icon md-svg-icon="assets/images/finalise.svg"></md-icon>
                                        </span>
                                </md-button>
                                <md-button class="md-raised md-primary" ng-disabled="!campaignDetails || !campaignDetails.products || (campaignDetails.type == 0 && campaignDetails.status != 600)" ng-if="campaignDetails.status < 700"	ng-click="confirmCampaignBooking(campaignDetails.id, $event)">
                                        Confirm Booking
                                        <span>
                                                <md-icon md-svg-icon="assets/images/finalise.svg"></md-icon>
                                        </span>
                                </md-button>
                                <md-button class="md-raised md-primary" ng-disabled="campaignDetails.status != 700" ng-if="campaignDetails.status == 700" ng-click="launchCampaign(campaignDetails.id, $event)">	Launched
                                        <span>
                                                <md-icon md-svg-icon="assets/images/finalise.svg"></md-icon>
                                        </span>
                                </md-button>
                                <md-button class="md-raised" ng-disabled="!campaignDetails || (campaignDetails.status != 700 && campaignDetails.status != 700)"
                                 ng-click="closeCampaign(campaignDetails.id, $event)">
                                        Close Campaign
                                        <span>
                                                <md-icon md-svg-icon="assets/images/finalise.svg"></md-icon>
                                        </span>
                                </md-button>
                        </div>
                </div>
        </div> -->
    <!-- <div ui-grid="gridCampaignProducts" ui-grid-selection ui-grid-pagination ui-grid-edit ui-grid-resize-columns ui-grid-cellnav ui-grid-move-columns ui-grid-auto-resize class="grid"> -->
  </div>
  <div class="ml-2 mr-2 mt-2 mb-2 md-whiteframe-2dp contbg">
    <div class="row" style="margin-left:0px; margin-right:0px;">
      <div
        class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-6 order-xl-1 order-lg-1 order-md-1 order-sm-1 order-1 payment_mng"
        style="margin-top:14px;"
      >
        <p class="">Camapaign ID</p>
        <p class="md-caption mob_span">
          <b>{{ campaignDetails.cid }}</b>
        </p>
      </div>
      <div
        class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-6 order-xl-1 order-lg-1 order-md-1 order-sm-1 order-3 payment_mng"
        style="margin-top:14px;"
      >
        <p class="">Camapaign Name</p>
        <p class="md-caption mob_span">
          <b>{{ campaignDetails.name }}</b>
        </p>
      </div>
      <div
        class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-6 order-xl-1 order-lg-1 order-md-1 order-sm-1 order-5 payment_nng"
        style="margin-top:14px;"
      >
        <p class="">No of Products</p>
        <p class="md-caption mob_span mob_5">
          <b>{{ campaignDetails.products.length }}</b>
        </p>
      </div>
      <!-- <div class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-6 order-xl-1 order-lg-1 order-md-1 order-sm-1 order-2 payment_nng"
                            style="margin-top:14px;">
                            <div class="md-grid-item-content hoarding-btn" ng-class="{'red':selectedFormatIndex == 0}" ng-click="toggleShareCampaignSidenav()">
                                    <p class="md-caption"><span><i class="material-icons i_icon">
                                                            reply_all
                                                    </i></span></p>
                                    <p class="mob_spanicon share_icon">Share Camapaign</p>
                            </div>
                    </div> -->
      <div
        class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-6 order-xl-1 order-lg-1 order-md-1 order-sm-1 order-4 payment_nng"
        style="margin-top:14px;"
      >
        <div
          class="md-grid-item-content hoarding-btn"
          ng-class="{'red':selectedFormatIndex == 0}"
          ng-click="selectedFormatIndex = 0"
        >
          <p class="md-caption">
            <span><i class="material-icons i_icondown"> file_copy </i></span>
          </p>
          <p class="mob_spanicon share_icon">Download Quotetation</p>
        </div>
      </div>
      <div class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-6 order-xl-1 order-lg-1 order-md-1 order-sm-1 order-4 payment_nng" style="margin-top:14px;">
        <p class="md-caption"><span><i class="material-icons i_icon">
          account_balance_wallet
        </i></span></p>
        <a href= "#/admin/campaign-payment-details/{{campaignDetails.id}}" ><p class="mob_spanicon share_icon">Payment Details</p></a>
      </div>
      <div class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-6 order-xl-1 order-lg-1 order-md-1 order-sm-1 payment_nng hide-xs"
      style="margin-top:1em;">
      <div class="dropdown">
        <md-button class="md-raised md-primary update_mrg" onclick="addPayment()" class="dropbtn" >
          <md-icon style="width:1.5vw">
            <i class="material-icons update_accounticon">
              account_balance_wallet
            </i>
          </md-icon>
          Add Payment
        </md-button>
        <div id="myDropdown" class="dropdown-content contbg animated fadeInDown">
          <form name="ownerCampaignForm" role="form" novalidate="novalidate">
            <div layout="colmun">
              <span flex></span>
              <md-button class="md-icon-button" aria-label="Close Side Panel" onclick="addPayment()">
                <md-icon class="md-default-theme">
                  <i class="material-icons">close</i>
                </md-icon>
              </md-button>
            </div>
            <h3 class="md-title" style="margin-top:-28px;">Grand Total : Rs. {{ campaignDetails.act_budget || "N/A" }}</h3><br>
            <li>
              <div class="">
                <div class="col-md-12">
                  <form>
                    <div class="form-group row">
                      <label for="amount" class="col-sm-4 col-form-label md-body-2">Mode *:</label>
                      <div class="col-sm-8">
                        <select id="paymentType" ng-model="campaignPayment.type" class="form-control md-whiteframe-3dp">
                          <option ng-repeat="paymentType in paymentTypes" ng-value="{{paymentType.name}}">{{paymentType.name}}</option>
                        </select>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label for="paymentType" class="col-sm-4 col-form-label md-body-2">Amount</label>
                      <div class="col-sm-8">
                        <input type="text" class="form-control md-whiteframe-3dp" only-numeric id="amount" ng-model="campaignPayment.amount">
                      </div>
                    </div>
                    <div class="form-group row">
                      <label for="paymentType" class="col-sm-4 col-form-label md-body-2">Reference No:</label>
                      <div class="col-sm-8">
                        <input type="text" class="form-control md-whiteframe-3dp" only-numeric id="amount" ng-model="campaignPayment.reference_no">
                      </div>
                    </div>
                    
                    <div class="form-group row" ng-class="{'has-error': ownerCampaignForm.received_by.$invalid && ownerCampaignForm.received_by.$dirty, 'has-success': ownerCampaignForm.received_by.$valid }">
                      <label for="paymentType" class="col-sm-4 col-form-label md-body-2">Received By *:</label>
                      <!-- <div class="col-sm-8">
                        <input type="text" class="form-control md-whiteframe-3dp" id="amount" ng-model="campaignPayment.received_by">
                      </div> -->
                      <div class="col-sm-8">
                      <input type="received_by" class="form-control md-whiteframe-3dp"  placeholder="Received-by"  name="received_by" ng-model="campaignPayment.received_by" maxlength="15"
                          required/>
                          <p ng-if="ownerCampaignForm.received_by.$invalid && ownerCampaignForm.received_by.$dirty">Received By Name is required</p>
                        </div>
                    </div>
                    <div class="form-group row">
                      <label for="paymentType" class="col-sm-4 col-form-label md-body-2">Comments</label>
                      <div class="col-sm-8">
                        <textarea class="form-control md-whiteframe-3dp" rows="5" id="comment" name="text" placeholder="Type Your Massage"
                          ng-model="campaignPayment.comment"></textarea>
                      </div>
                    </div>
                    <div class="form-group row">
                      <label for="paymentType" class="col-sm-4 col-form-label md-body-2">Upload Image</label>
                      <div class="col-sm-8">
                        <span class="input-group-btn">
                          <span class="">
                            <input type="file" ngf-select ng-model="files.image" name="files.image" class="form-control md-whiteframe-3dp"
                              accept="image/*" ngf-max-size="1MB">
                          </span>
                        </span>
                        <div ng-messages="addProductForm.imageFile.$error" ng-if="addProductForm.imageFile.$touched"
                          style="color:red">
                          <div ng-message="required">Image is required.</div>
                        </div>
                      </div>
                    </div>
                    <div class="form-group row">
                      <div flex></div>
                      <div class="col-sm-4">
                        <!-- <p><input type="file"  accept="image/*" name="image" id="file"  onchange="loadFile(event)" style="display: none;"></p>
                                   <p><label for="file" style="cursor: pointer;">Upload Image</label></p> -->
                      </div>
                      <div class="col-sm-4">
                        <md-button class="md-raised md-primary pull-right text-white" type="Submit" ng-disabled="campaignDetails.status != 700 && campaignDetails.status != 800" ng-click="updateCampaignPayment(campaignDetails.id)">Submit</md-button>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </li>
          </form>
        </div>
      </div>
    </div>
      <div class="col-xl-2 col-lg-2 col-md-4 col-sm-4 col-6 order-xl-1 order-lg-1 order-md-1 order-sm-1 payment_nng hide-xs" style="margin-top:1em;">
        <md-button class="md-raised add_blue" ng-href="#/admin/add-campagin-product/{{campaignDetails.id}}">Add Another Product</md-button>
      </div>
    </div>
  </div>
  <!-- table grid start  -->
  <!-- <div style="margin-top: 1em;">
            <div class="table-responsive">
                    <table class="table table-striped table-bordered ">
                            <thead>
                                    <tr>
                                            <th>Tab Id</th>
                                            <th>Type</th>
                                            <th>Area</th>
                                            <th>Size</th>
                                            <th>Lighting</th>
                                            <th>Start Date</th>
                                            <th>End Date</th>
                                            <th>Image</th>
                                            <th>Price</th>
                                            <th>Actions</th>
                                    </tr>
                            </thead>
                            <tbody>
                                    <tr ng-repeat="campaignProduct in campaignProducts | limitTo:limit" ng-class="{'striked-out': campaignProduct.unavailable}">
                                            <td>{{campaignProduct.siteNo}}</td>
                                            <td>{{campaignProduct.format_name}}</td>
                                            <td>{{campaignProduct.area_name}}</td>
                                            <td>{{campaignProduct.panelSize}}</td>
                                            <td>{{campaignProduct.lighting | boolToYesNo}}</td>
                                            <td>{{campaignProduct.booked_from | date }}</td>
                                            <td>{{campaignProduct.booked_to | date }}</td>
                                            <td>
                                                    <md-button ng-click="viewProductImage(campaignProduct.image)" class="md-icon-button">
                                                            <md-icon>
                                                                    <i class="material-icons">remove_red_eye</i>
                                                            </md-icon>
                                                    </md-button>
                                            </td>
                                            <td>{{campaignProduct.admin_price}}</td>
                                            <td>
                                                    <span>
                                                            <a style="cursor:pointer;" ng-click="editProposedProduct(campaignProduct.id, campaignProduct.price)" ng-if="campaignDetails.status <= 300 || campaignDetails.status == 500">
                                                                    <md-icon>
                                                                            <i class="material-icons">mode_edit</i>
                                                                    </md-icon>
                                                            </a>
                                                    </span>
                                                    <span>
                                                            <a style="cursor:pointer;" ng-click="deleteProductFromCampaign(campaignDetails.id, campaignProduct.product_id)"
                                                             ng-if="(campaignDetails.from_suggestion == true && (campaignDetails.status < 300 || campaignDetails.status == 500) || campaignDetails.from_suggestion == false && (campaignDetails.status <= 200 || campaignDetails.status == 500)) || (campaignDetails.type == 1 && campaignDetails.status < 700)">
                                                                    <md-icon>
                                                                            <i class="material-icons">delete</i>
                                                                    </md-icon>
                                                            </a>
                                                    </span>
                                            </td>
                                    </tr>
                            </tbody>
                    </table>
            </div>
            
    </div> -->
  <div class="table-responsive">
    <table class="table">
      <thead class="text_color">
        <tr>
          <th>Product Details</th>
          <th></th>
          <!-- <th class="">Size</th> -->
          <th class="hide-xs">Booked From</th>
          <th class="hide-xs">Booked To</th>
          <th class="hide-xs">Price Given</th>
          <th class="hide-xs">Price Received</th>
          <th class="hide-xs">Default Price</th>
          <th class="hide-xs">Inventory Owner</th>
          <th class="hide-xs">Inventory Status</th>
          <!-- <th class="hide-xs">
								<md-button class="md-raised add_blue" ng-href="#/admin/add-campagin-product">Add Another Product
								</md-button>
							</th> -->
        </tr>
      </thead>
      <tbody>
        <tr
          ng-repeat="campaignProduct in campaignProducts | limitTo:limit"
          ng-class="{'striked-out': campaignProduct.unavailable}"
        >
          <td class="image_tdwidth">
            <img
              ng-src="{{ config.serverUrl + product.image }}"
              alt="Smiley face"
              class="requ_size"
            />
          </td>
          <td>
            <p class="">
              <b
                >{{ campaignProduct.siteNo }} - {{ campaignProduct.area_name }}
                {{ campaignProduct.panelSize }}</b
              ><br />Address: {{ campaignProduct.address }} <br />Views :
              {{ "N/A" }} Per week<br />
              <!-- Live Traffic:<button class="btn" style="background:#FF0A25; color:#fff; margin-left:10px;"><i class="fa fa-eye"></i>1,25,589</button> -->
            </p>
          </td>
          <!-- <td class="table_vertical">60*60</td> -->
          <td class="table_vertical hide-xs">
            <p>{{ campaignProduct.booked_from | date }}</p>
          </td>
          <td class="table_vertical hide-xs">
            <p>{{ campaignProduct.booked_to | date }}</p>
          </td>
          <td class="table_vertical hide-xs">
                {{(!myfield)?(campaignProduct.admin_price || 'N/A'):''}}
                <input type="number" class="" ng-model="campaignProduct.admin_price" placeholder="Price" ng-if="myfield" style="width: 70px;padding: 4px 5px;" />
                <span ng-click="myfield=true;"  ng-show="(!myfield && campaignDetails.status <= 600)"> <i class="material-icons">edit</i></span>
                <span ng-click="myfield=false;changeCampaignProductPrice(campaignProduct.campaign_id,campaignProduct.admin_price,campaignProduct.product_id, campaignProduct.siteNo)"  ng-show="myfield"> <i class="material-icons">check</i></span>
          </td>
          <td class="table_vertical hide-xs">
                   {{campaignProduct.owner_price || 'N/A'}}                       
          </td>
          <td class="table_vertical hide-xs">
                {{campaignProduct.default_price  || 'N/A'}}                       
          </td>
          <td class="table_vertical hide-xs">
            <p class=" md-caption">{{campaignProduct.client_name}}</p>
            <!-- <a href="#"><i class="material-icons">delete_foreve</i></a> -->
          </td>
          <td class="table_vertical hide-xs addcampaign_details">
                <p class="text_color md-caption" ng-if=" !campaignProduct.admin_price && campaignDetails.status >= 300 && campaignDetails.status <= 500">Quote Requested</p>
                <p class="text_color md-caption" ng-if=" campaignProduct.admin_price && campaignDetails.status >= 300 && campaignDetails.status <= 600">{{campaignDetails.status | stringifyCampaignStatus}} </p>
                <!--<p class="text_color md-caption" ng-if="!campaignProduct.admin_price && (campaignDetails.status <= 300 || campaignDetails.status >= 500)">Deleted</p>-->
                <p class="text_color md-caption" ng-if="campaignProduct.admin_price && (campaignDetails.status <= 300 || campaignDetails.status > 600)">{{campaignProduct.product_status | stringifyProductStatus}}</p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- table grid end -->

  <div style="margin-right:20px;">
    <div class="pull-right">
      <p class="font-weight-light" style="text-indent: 53px;">Total : <spam class="float-right">{{ campaignDetails.act_budget}}</spam></p>
      <p class="text_color" style="text-indent: 31px;">18% GST : <spam class="float-right">{{ campaignProduct.gst ||"N/A" }}</spam></p>
      <p class="" style="text-indent: 28px;">Sub Total : <spam class="float-right">{{ campaignProduct.subTotal ||"N/A" }}</spam></p>
      <p class="" style="font-size: 15px;font-weight: 500;">Grand Total : <spam class="float-right">{{ campaignDetails.act_budget || "N/A" }}</spam></p>
      <md-button
        class="md-raised md-warn"
        ng-click="finalizeCampaign()"
        ng-if="campaignDetails.status == 300 || campaignDetails.status == 400">
        Send Quote
        <span>
          <md-icon md-svg-icon="assets/images/finalise.svg"></md-icon>
        </span>
      </md-button>
      <md-button
        class="md-raised md-primary"
        ng-if="campaignDetails.status == 600"
        ng-click="launchCampaign(campaignDetails.id, $event)">
        Confirm Booking
        <span>
          <md-icon md-svg-icon="assets/images/finalise.svg"></md-icon>
        </span>
      </md-button>
      <md-button
        class="md-raised md-primary"
        ng-if="campaignDetails.status >= 700" ng-disabled="true">
        Launched
        <span>
          <md-icon md-svg-icon="assets/images/finalise.svg"></md-icon>
        </span>
      </md-button>
    </div>    
  </div>


  <!-- <div
    class="md-whiteframe-3dp campaign_payment hide-xs"
    layout="row"
    layout-margin
  >
    <div layout="column" class="payment_inner"> -->
      <!-- <div layout="row">
        <div class="md-body-1">Total :</div>
        <div class="md-body-1 float-right">{{ campaignDetails.act_budget}}</div>
      </div>
      <div layout="row">
        <div class="md-body-1">18% GST :</div>
        <div class="md-body-1">{{ campaignProduct.gst ||"N/A" }}</div>
      </div>
      <div layout="row">
        <div class="md-body-1">Sub Total :</div>
        <div class="md-body-1">{{ campaignProduct.subTotal ||"N/A" }}</div>
      </div>
      <div layout="row">
        <div class="md-title">Grand Total :</div>
        <div class="md-title">{{ campaignDetails.act_budget || "N/A" }}</div>
      </div> -->
      <!-- <md-button class="md-raised md-primary" ng-click="finalizeCampaign(campaignProduct)">SEND QUOTE</md-button> -->
      <!-- <md-button class="md-raised md-warn" ng-click="finalizeCampaign()">
                       Send Quote
               </md-button> -->
      
      <!-- <md-button class="md-raised" ng-disabled="!campaignProducts || (campaignProducts.status != 700 && campaignProducts.status != 700)"
                 ng-click="closeCampaign(campaignProducts.id, $event)">
                    Close Campaign
                    <span>
                            <md-icon md-svg-icon="assets/images/finalise.svg"></md-icon>
                    </span>
            </md-button> -->
    <!-- </div>   
  </div> -->

  	<div class="d-flex mb-5" style="min-height:100px">
		<div class="p-2 col-md-6">
				<form name="SendComment">
			<div class=" chat_box ">
				
				<ul ng-repeat="quote_change in campaignDetails.quote_change" class="p-2">
					<li ng-if="quote_change.type == 'user'" class="mt-2"><span class="user_dec">U</span>{{quote_change.remark}}</li>
					<li ng-if="quote_change.type == 'bbi'"><span class="user_bi">BI</span>{{quote_change.remark}}</li>
				</ul>
				<div class="form-group">
						<label for="text" class="text_color">Any questions, Please submit below</label>
						<textarea type="text" ng-model="campaignDetails.message" class="form-control" id="text" rows="3"></textarea>
					</div>
					<button type="submit" class="btn user_submit float-right" ng-click="changeQuoteRequest(campaignDetails.id, campaignDetails.message)">Submit</button>
				
      </div>
		</form>
		</div>
		<div class="p-2  col-md-6 align-self-end" ng-if="campaignDetails.status < 300">
			<div class="d-flex justify-content-end pt-4">
				<md-button class="md-raised all_button" ng-if="campaignDetails.status == 400" ng-click="requestProposalForCampaign(campaignDetails.id, $event)">Request Proposal</md-button>
			</div>
		</div>

		<div class="p-2  col-md-6 align-self-end" ng-if="campaignDetails.status == 600">
			<div class="d-flex justify-content-end pt-4 align-self-end">
				<div layout="column" class="payment_inner">
					<div layout="row">
						<div class="md-body-1">We have received your request and working on blocking the products you have selected.</div>
					</div>
					<div layout="row">
						<div class="md-body-1">You'll soon hear from us.</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<script>
        function addPayment() {
          document.getElementById("myDropdown").classList.toggle("show");
        }
        function addPayments() {
          document.getElementById("myDropdownView").classList.toggle("show");
        }
      </script>