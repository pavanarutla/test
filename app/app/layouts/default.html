<link rel="stylesheet" type="text/css" href="assets/css/main.css" />
<link rel="stylesheet" type="text/css" href="assets/css/owner-main.css" />
<script>
        var i = 1;
        var user = localStorage.getItem("loggedInUser");
        var parsedData = JSON.parse(user);
        var user_type = parsedData.user_type;
        console.log(parsedData.user_type);
        if (user_type == 'bbi') {
            var user_id = '-superAdmin';
        } else if (user_type == 'basic') {
            var user_id = parsedData.user_id;
        } else if (user_type == 'owner') {
            var user_id = '-' + parsedData.mong_id;
        }
        var arrayText = [];
        // Enable pusher logging - don't include this in production
        Pusher.logToConsole = true;

        var pusher = new Pusher('83e8ffcc55e67dd5625d', {
            cluster: 'ap2',
            forceTLS: true
        });
        var channel = pusher.subscribe('CampaignLaunch' + user_id);
        var channel1 = pusher.subscribe('campaignClosed' + user_id);
        var channel2 = pusher.subscribe('CampaignLaunchRequested' + user_id);
        var channel3 = pusher.subscribe('CampaignQuoteProvided' + user_id);
        var channel4 = pusher.subscribe('CampaignQuoteRequested' + user_id);
        var channel5 = pusher.subscribe('CampaignQuoteRevision' + user_id);
        var channel6 = pusher.subscribe('CampaignSuggestionRequest' + user_id);
        var channel7 = pusher.subscribe('CampaignSuspended' + user_id);
        var channel8 = pusher.subscribe('ProductApproved' + user_id);
        var channel9 = pusher.subscribe('ProductRequested' + user_id);
        var channel10 = pusher.subscribe('metroCampaignClosed' + user_id);
        var channel11 = pusher.subscribe('metroCampaignLaunched' + user_id);
        var channel12 = pusher.subscribe('metroCampignLocked' + user_id);

        channel.bind('CampaignLaunchEvent', function (data) {
            arrayText.push(data);
            /* $('#notification-count').html(arrayText.length);
             $('#notification1-count').html(arrayText.length);*/
            notificationText(arrayText);

        });
        channel1.bind('campaignClosedEvent', function (data) {
            arrayText.push(data);
            notificationText(arrayText);
        });
        channel2.bind('CampaignLaunchRequestedEvent', function (data) {
            arrayText.push(data);
            notificationText(arrayText);
        });
        channel3.bind('CampaignQuoteProvidedEvent', function (data) {
            arrayText.push(data);
            notificationText(arrayText);
        });
        channel4.bind('CampaignQuoteRequestedEvent', function (data) {
            arrayText.push(data);
            notificationText(arrayText);
        });
        channel5.bind('CampaignQuoteRevisionEvent', function (data) {
            arrayText.push(data);
            notificationText(arrayText)
        });
        channel6.bind('CampaignSuggestionRequestEvent', function (data) {
            arrayText.push(data);
            notificationText(arrayText);
        });
        channel7.bind('CampaignSuspendedEvent', function (data) {
            arrayText.push(data);
            notificationText(arrayText);
        });
        channel8.bind('ProductApprovedEvent', function (data) {
            arrayText.push(data);
            notificationText(arrayText);
        });
        channel9.bind('ProductRequestedEvent', function (data) {
            arrayText.push(data);
            notificationText(arrayText);
        });
        channel10.bind('metroCampaignClosedEvent', function (data) {
            arrayText.push(data);
            notificationText(arrayText);
        });
        channel11.bind('metroCampaignLaunchedEvent', function (data) {
            arrayText.push(data);
            notificationText(arrayText);
        });
        channel12.bind('metroCampignLockedEvent', function (data) {
            arrayText.push(data);
            notificationText(arrayText);
        });

        function notificationText(arrayText) {
            $('#notification-count').html(arrayText.length);
            $('#notification1-count').html(arrayText.length);
            arrayText.forEach(function (element) {
                var j = i % 3;
                $('#notification-id-' + j).html('<div class ="notification_desc md-whiteframe-2dp pl-3"><p>' + element.desc + '</p></div>');
                i++;
            });
        }
    </script>
<div layout="column" style="position:relative;min-height:100%;">
    <!-- main nav section-->
    <md-toolbar class="md-menu-toolbar header">
        <div class="container md-toolbar-tools">
            <md-button ng-click="closeSidenav()" aria-label="menu" class="md-icon-button hide_gt_md menu_btn_mobile">
                <md-icon md-svg-icon="assets/images/menu_24px.svg"></md-icon>
            </md-button>
            <md-button aria-label="locations" href="#/" md-no-ink class="logo">
                <img class="png-icon" src="assets/images/owner/logo.png" width="130px" alt="images">
            </md-button>
            <span flex class=""></span>
            <md-menu-bar class="main-menu  hide_xs hide_sm hide_md" style="padding:0px">
                <md-button aria-label="about bbi" ng-href="#/aboutbbi" ng-if="!footerhide" class="toolbar-btn what-we">About
                    BBI</md-button>
                <md-button aria-label="products" ng-href="#/ourproduct" ng-if="!footerhide" class="toolbar-btn">Our
                    Products</md-button>
                <!-- <md-button aria-label="products" ng-href="#/faq" ng-if="!footerhide" class="toolbar-btn faq_width">FAQ'S
                </md-button> -->
                <!-- <md-button aria-label="products" ng-href="#/suggestme" ng-if=" isAuthenticated && isUserBasic()"
                  ng-href="#/suggest/product-detail" class="toolbar-btn suggest_borderright">
                  suggest me
                </md-button> -->
                <md-button class="toolbar-btn suggest_borderright" ng-show="!isAuthenticated" style="color:#000"
                           ng-click="showSignInDialog($event)"> suggest me</md-button>
                <md-button class="toolbar-btn suggest_borderright" ng-href="#/suggest/product-detail"
                           ng-show="isAuthenticated && loggedInUser.user_role=='basic' && currStateName != 'index.suggest.product-detail'" style="color:#000"> suggest me
                </md-button>
                <!-- browse-->
                <md-button aria-label="location" ng-href="#/location"
                           ng-show="isAuthenticated && currStateName != 'index.location'">
                   Roadside
                </md-button>
                <md-button class="md-raised login_button book_now toolbar-btn" ng-show="!isAuthenticated"
                           style="color:#000 !important" ng-click="showSignInDialog($event)">Metro</md-button>
                <md-button class="  toolbar-btn" ng-href="#/metro" ng-show="isAuthenticated && currStateName != 'index.metro'">
                    Metro</md-button>
                <md-button aria-label="location" class="md-raised login_button book_now" ng-click="showSignInDialog($event)"
                           ng-show="!isAuthenticated" style="color: #000 !important;">
                    Log in
                </md-button>
            </md-menu-bar>
            <md-menu-bar class="hide_gt_md">
                <md-button class="md-raised login_button book_now toolbar-btn hide_xs" ng-show="!isAuthenticated"
                           style="color:#000 !important" ng-click="showSignInDialog($event)">Metro</md-button>
                <md-button aria-label="location" class="md-raised login_button book_now" ng-click="showSignInDialog($event)"
                           ng-show="!isAuthenticated" style="color: #000 !important;">
                    Log in
                </md-button>

            </md-menu-bar>
        
            <md-menu-bar style="padding:0px">
                <div class="profile_details_left" style="float:right">
                    <ul class="nofitications-dropdown">
                        <li class="dropdown head-dpdn hide_xs" ng-show="isAuthenticated && loggedInUser.user_role=='basic'">
                            <a class="dropdown-toggle saved_campaign" data-toggle="dropdown" aria-expanded="false">Saved
                                Camapgin ({{userSavedCampaigns.length}})</a>
                            <ul class="dropdown-menu animated fadeInDown dropdown-saved">
                                <li>
                                    <div class="notification_header ">
                                        <h3 class="text_color">You have {{userSavedCampaigns.length}} Campaigns</h3>
                                    </div>
                                </li>
                                <li ng-repeat="activeUserCampaign in userSavedCampaigns.slice(0, 3)"><a
                                        ng-href="#/campaign-details/{{activeUserCampaign.id}}">
                                        <div class="notification_desc pl-3">
                                            <p>{{activeUserCampaign.name}}</p>
                                            <!-- <p><span>1 hour ago</span></p> -->
                                        </div>
                                        <div class="clearfix"></div>
                                    </a>
                                </li>
                                <li>
                                    <div class="notification_bottom"> <a ng-href="#/user-saved-campaigns"> See all campaigns</a> </div>
                                </li>
                            </ul>
                        </li>
                        <li class="dropdown head-dpdn hide-xs"   ng-show="isAuthenticated && loggedInUser.user_role=='owner'"> 
                    <a class="dropdown-toggle saved_campaign" data-toggle="dropdown" aria-expanded="false">Saved Campaign ({{ownerNotifs.length}})</a>
                    <ul class="dropdown-menu animated fadeInDown dropdown-saved">
                        <li>
                            <div class="notification_header ">
                                <h3 class="text_color">You have {{ownerNotifs.length}} Campaigns</h3>
                            </div>
                        </li>
                        <li ng-repeat="activeUserCampaign in ownerNotifs.slice(0, 3)"><a ng-href="#/owner/{{clientSlug}}/campaign-details/{{activeUserCampaign.id}}">
                                <div class="notification_desc pl-3">
                                    <p>{{activeUserCampaign.name}}</p>
                                    <!-- <p><span>1 hour ago</span></p> -->
                                </div>
                                <div class="clearfix"></div> 
                            </a>
                        </li>
                        <li>
                            <div class="notification_bottom"> <a ng-href="#/owner/{{clientSlug}}/saved-campaigns">See all campaigns</a> </div>
                        </li>
                    </ul>
                </li>
                        <li class="dropdown head-dpdn" ng-if="isAuthenticated">
                            <!-- <a class="dropdown-toggle" data-toggle="dropdown"aria-expanded="false"><i class="fa fa-bell"></i><span class="badge blue"
                              id="notification-count">0</span></a>
                            <ul class="dropdown-menu dropdown-bell arrrow_box ">
                              <li>
                                <div class="notification_header">
                                  <h3 class=""><b>You have <span id="notification1-count">0</span> new notification</b></h3>
                                </div>
                              </li>
                              <li>
                                <div class="notification_bottom"> <a ng-href="#/user-notifications">See all notifications</a> </div>
                              </li>
                            </ul> -->
                            <a class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><i class="fa fa-bell"></i><span
                                    class="badge blue" id="notification-count">0</span></a>
                            <ul class="dropdown-menu animated fadeIn delay-.5s dropdown-logout">
                                <li>
                                    <div class="notification_header">
                                        <h3 class=""><b>You have <span id="notification1-count">0</span> new notification</b></h3>
                                    </div>
                                </li>
                                   <li id="notification-id-0"></li>
                            <li id="notification-id-1"></li>
                            <li id="notification-id-2"></li>
                                <li>
                                    <div class="notification_bottom"  > 
                                        <a href="#/user-notifications"  ng-show="isAuthenticated &&loggedInUser.user_role=='basic'" >See all notifications</a>
                                        <a href="#/owner/{{loggedInUser.clientSlug}}/owner-notifications" ng-show="isAuthenticated &&loggedInUser.user_role == 'owner'">See all notifications</a> 
                                    </div>
<!--                                    <div class="notification_bottom"  >  <a ng-href="#/owner/{{loggedInUser.clientSlug}}/owner-notifications" ng-if="loggedInUser.user_role = 'owner'">See all notifications</a> </div>-->
                                </li>
                            </ul>
                        </li>

                        <li class="dropdown head-dpdn" ng-if="isAuthenticated">
                            <a class="dropdown-toggle saved_campaign" data-toggle="dropdown" aria-expanded="false">{{loggedInUser.firstName.slice(0, 1)}}</a>
                            <ul class="dropdown-menu drp-mnu animated fadeIn delay-.5s dropdown-logout">
                                <li> <a ng-href="#/profile">{{loggedInUser.firstName}} {{loggedInUser.lastName}}</a> </li>
                                <li  ng-show="isAuthenticated && loggedInUser.user_role=='basic'" >  <a ng-href="#/campaigns"> Campaigns</a> </li>
                                 <li  ng-show="isAuthenticated && loggedInUser.user_role=='owner'">  <a ng-href="#/owner/{{clientSlug}}/campaigns"> Campaigns</a> </li>
                                <li ng-if="isUserBasic()"> <a ng-href="#/shortlisted-products"> Shortlisted Inventory
                                        ({{shortListedProductsLength}})</a> </li>
                                        
                                <li ng-show="isAuthenticated && loggedInUser.user_role=='basic'" > <a ng-href="#/user-payments"> Payments</a> </li>
                                <li ng-show="isAuthenticated && loggedInUser.user_role=='owner'" > <a ng-href="#/owner/{{clientSlug}}/payments"> Payments</a> </li>
                                <li> <a ng-href="#/reset_password"> Change Password</a> </li>
<!--                                <li> <a ng-if="!isUserBasic()" ng-click="switchView()"> Switch view</a> </li>-->
                                <li class="hide_gt_xs"><a ng-href="#/user-saved-campaigns">Saved Camapgin</a></li>
                                <li> <a ng-click="logout()" class="logout_color"> Logout</a> </li>
                            </ul>
                            <ul class="dropdown-menu drp-mnu animated fadeIn delay-.5s dropdown-logout"  >
                                <li> <a ng-href="#/profile">{{loggedInUser.firstName}} {{loggedInUser.lastName}}</a> </li>
                                <li> <a ng-href="#/owner/{{clientSlug}}/campaigns"> Campaigns</a> </li>
                                <li> <a ng-href="#/payments"> Payments</a> </li>
                                <li> <a ng-href="#/reset_password"> Change Password</a> </li>
                                <li> <a ng-click="switchView()"> Switch to Map view</a> </li>
<!--                                <li> <a ng-href="#"> Team</a> </li>-->
                                <li> <a ng-click="logout()" class="logout_color"> Logout</a> </li>
                            </ul>

                        </li>
                    </ul>
                    <div class="clearfix"></div>
                </div>
            </md-menu-bar>
        </div>
    </md-toolbar>
    <!--// main nav section-->

    <!-- sidenav for mobile and tablet -->
    <md-sidenav md-component-id="left" class="md-sidenav-left" hide_gt_md>
        <div layout="row" class="layout-row">

      <div flex="" class="flex"></div>
      <a class="md-icon-button close-btn" ng-click="closeSidenav()">
        <i class="material-icons">close</i>
      </a>
    </div>
    <header layout="column" layout-padding layout-margin>
      <a ng-href="#/"><img ng-src="assets/images/core/billboards1.png" style="margin-top:15px"></a>
    </header>
    <div flex layout="column" role="navigation">
      <md-menu-item flex layout="column">
        <md-button aria-label="about bbi" ng-href="#/aboutbbi" class="toolbar-btn what-we">About
          BBI</md-button>
      </md-menu-item>
      <md-menu-item flex layout="column">
        <md-button aria-label="products" ng-href="#/ourproduct" class="toolbar-btn">Our
          Products</md-button>
      </md-menu-item>
      <md-menu-item flex layout="column">
        <md-button aria-label="products" ng-href="#/faq" class="toolbar-btn faq_width">FAQ'S
        </md-button>
      </md-menu-item>
      <md-menu-item flex layout="column">
        <md-button class="toolbar-btn suggest_borderright" ng-show="!isAuthenticated" style="color:#000"
          ng-click="showSignInDialog($event)"> suggest me</md-button>
        <md-button class="toolbar-btn suggest_borderright" ng-href="#/suggestme" ng-show="isAuthenticated"
          style="color:#000"> suggest me</md-button>
      </md-menu-item>
      <md-menu-item flex layout="column">
        <md-button class=" login_button book_now toolbar-btn" ng-show="!isAuthenticated" style="color:#000 !important"
          ng-click="showSignInDialog($event)">Metro</md-button>
        <md-button class="  toolbar-btn" ng-href="#/metro" ng-show="isAuthenticated ">Metro</md-button>
      </md-menu-item>

            <md-menu-item flex layout="column">
                <md-button aria-label="location" ng-href="#/location" ng-show="isAuthenticated">
                    Roadside
                </md-button>
            </md-menu-item>
        </div>
    </md-sidenav>
    <!-- //sidenav for mobile and tablet -->

    <!-- Content section-->
    <ui-view></ui-view>
    <!-- //Content section-->

  <!-- Footer Section-->
  <footer class="footer_home py-lg-4 py-md-3 py-sm-3 py-3 contbg" ng-if="!footerhide">
    <div class="py-lg-4 py-md-3 py-sm-3 py-3 footer">
      <div class="container py-lg-5 py-md-5 py-sm-4 py-3">
        <div class="row">
          <div class="col-lg-6 col-md-6 col-sm-12">
            <h3 class="title mb-3 heading_3"><b class="first_word"><span class="first_letter">C</span>ontact Info</b></h3>
            <i class="fa fa-home gobalimg" aria-hidden="true"></i>
            <p class="font-weight-bold p3">BBI Advertising Pvt Ltd.</p>
            <p class="p4">People tech group building, Plot No.1, Whitefields<br>
              <span class="span_left">Hitech City Road, Kondapur, Hyderabad,Telangana 500084</span></p>
            <i class="fa fa-envelope-o email" aria-hidden="true"></i>
            <p class="font-weight-bold p3">MAIL US</p>
            <p class="p4">reach@billboardsindia.com</p>
            <i class="fa fa-mobile telephone" aria-hidden="true"></i>
            <p class="font-weight-bold p5">CALL India</p>
            <p class="p5">+ 91 9550224488</p>
          </div>
          <div class="col-lg-6 col-md-6 col-sm-12">
            <h3 class="title mb-3 heading_3"><b class="first_word"><span class="first_letter">L</span>eave Message</b></h3>
            <div class="contact-block-left">
              <form name="query">
                <input type="text" placeholder="First Name" ng-model="query.fname">
                <input type="text" placeholder="Last Name" ng-model="query.lname">
                <input type="text" placeholder="Subject" ng-model="query.type">
                <input type="email" class="email" placeholder="Email" ng-model="query.email">
                <textarea placeholder="Message" ng-model="query.querymessage"></textarea>               
                <md-button ng-click="sendquery(query)">Send Message</md-button>
              </form>              
            </div>
        </div>
      </div>
    </div>
    <div class="container py-lg-3 py-md-3 py-sm-3 py-3">
      <a ng-href="#home" class="move-top text-center"></a>
      <div class="row py-2 d-flex align-items-center">
        <div class="col-md-9 col-lg-9 col-sm-12 col-12">
          <h6 class="mb-0"><span style="color:#BC2535;margin-right: 10px;"><b>Pravacy & Terms</b></span>BBI Advertising
            pvt Ltd @ Copyrights 2019. All rights reserved.</h6>
        </div>
        <div class="col-lg-3 col-md-3 col-sm-12 col-12 text-lg-right text-md-right text-sm-center footersocial_icon">
          <a href="https://www.facebook.com/billboardsind/"><i class="fa fa-facebook white-text mr-4" aria-hidden="true"></i></a>
          <a href="https://www.instagram.com/billboards_india/"><i class="fa fa-instagram white-text mr-4" aria-hidden="true"></i></a>
          <a href="https://www.linkedin.com/company/billboards-india/?viewAsMember=true"><i class="fa fa-linkedin white-text mr-4" aria-hidden="true"></i></a>
          <a href="https://twitter.com/billboardsindia"><i class="fa fa-twitter white-text mr-4" aria-hidden="true"></i></a>
          <a href="#"><i class="fa fa-youtube-play white-text mr-4" aria-hidden="true"></i></a>
        </div>
    </footer>
    <!-- //Footer Section-->
</div>